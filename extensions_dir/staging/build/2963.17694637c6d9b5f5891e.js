/*! For license information please see 2963.17694637c6d9b5f5891e.js.LICENSE.txt */
(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[2963],{96486:function(e,t,n){e=n.nmd(e);var r;(function(){var i;var a="4.17.21";var u=200;var o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",s="Invalid `variable` option passed into `_.template`";var c="__lodash_hash_undefined__";var f=500;var h="__lodash_placeholder__";var v=1,p=2,d=4;var _=1,g=2;var m=1,y=2,b=4,w=8,x=16,k=32,E=64,C=128,S=256,A=512;var I=30,j="...";var N=800,D=16;var M=1,O=2,R=3;var P=1/0,z=9007199254740991,L=17976931348623157e292,T=0/0;var $=4294967295,W=$-1,B=$>>>1;var q=[["ary",C],["bind",m],["bindKey",y],["curry",w],["curryRight",x],["flip",A],["partial",k],["partialRight",E],["rearg",S]];var F="[object Arguments]",U="[object Array]",H="[object AsyncFunction]",V="[object Boolean]",K="[object Date]",J="[object DOMException]",Z="[object Error]",G="[object Function]",Y="[object GeneratorFunction]",X="[object Map]",Q="[object Number]",ee="[object Null]",te="[object Object]",ne="[object Promise]",re="[object Proxy]",ie="[object RegExp]",ae="[object Set]",ue="[object String]",oe="[object Symbol]",le="[object Undefined]",se="[object WeakMap]",ce="[object WeakSet]";var fe="[object ArrayBuffer]",he="[object DataView]",ve="[object Float32Array]",pe="[object Float64Array]",de="[object Int8Array]",_e="[object Int16Array]",ge="[object Int32Array]",me="[object Uint8Array]",ye="[object Uint8ClampedArray]",be="[object Uint16Array]",we="[object Uint32Array]";var xe=/\b__p \+= '';/g,ke=/\b(__p \+=) '' \+/g,Ee=/(__e\(.*?\)|\b__t\)) \+\n'';/g;var Ce=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,Ae=RegExp(Ce.source),Ie=RegExp(Se.source);var je=/<%-([\s\S]+?)%>/g,Ne=/<%([\s\S]+?)%>/g,De=/<%=([\s\S]+?)%>/g;var Me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var Pe=/[\\^$.*+?()[\]{}|]/g,ze=RegExp(Pe.source);var Le=/^\s+/;var Te=/\s/;var $e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,We=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /;var qe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var Fe=/[()=,{}\[\]\/\s]/;var Ue=/\\(\\)?/g;var He=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;var Ve=/\w*$/;var Ke=/^[-+]0x[0-9a-f]+$/i;var Je=/^0b[01]+$/i;var Ze=/^\[object .+?Constructor\]$/;var Ge=/^0o[0-7]+$/i;var Ye=/^(?:0|[1-9]\d*)$/;var Xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g;var Qe=/($^)/;var et=/['\n\r\u2028\u2029\\]/g;var tt="\\ud800-\\udfff",nt="\\u0300-\\u036f",rt="\\ufe20-\\ufe2f",it="\\u20d0-\\u20ff",at=nt+rt+it,ut="\\u2700-\\u27bf",ot="a-z\\xdf-\\xf6\\xf8-\\xff",lt="\\xac\\xb1\\xd7\\xf7",st="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ct="\\u2000-\\u206f",ft=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ht="A-Z\\xc0-\\xd6\\xd8-\\xde",vt="\\ufe0e\\ufe0f",pt=lt+st+ct+ft;var dt="['’]",_t="["+tt+"]",gt="["+pt+"]",mt="["+at+"]",yt="\\d+",bt="["+ut+"]",wt="["+ot+"]",xt="[^"+tt+pt+yt+ut+ot+ht+"]",kt="\\ud83c[\\udffb-\\udfff]",Et="(?:"+mt+"|"+kt+")",Ct="[^"+tt+"]",St="(?:\\ud83c[\\udde6-\\uddff]){2}",At="[\\ud800-\\udbff][\\udc00-\\udfff]",It="["+ht+"]",jt="\\u200d";var Nt="(?:"+wt+"|"+xt+")",Dt="(?:"+It+"|"+xt+")",Mt="(?:"+dt+"(?:d|ll|m|re|s|t|ve))?",Ot="(?:"+dt+"(?:D|LL|M|RE|S|T|VE))?",Rt=Et+"?",Pt="["+vt+"]?",zt="(?:"+jt+"(?:"+[Ct,St,At].join("|")+")"+Pt+Rt+")*",Lt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$t=Pt+Rt+zt,Wt="(?:"+[bt,St,At].join("|")+")"+$t,Bt="(?:"+[Ct+mt+"?",mt,St,At,_t].join("|")+")";var qt=RegExp(dt,"g");var Ft=RegExp(mt,"g");var Ut=RegExp(kt+"(?="+kt+")|"+Bt+$t,"g");var Ht=RegExp([It+"?"+wt+"+"+Mt+"(?="+[gt,It,"$"].join("|")+")",Dt+"+"+Ot+"(?="+[gt,It+Nt,"$"].join("|")+")",It+"?"+Nt+"+"+Mt,It+"+"+Ot,Tt,Lt,yt,Wt].join("|"),"g");var Vt=RegExp("["+jt+tt+at+vt+"]");var Kt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Jt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"];var Zt=-1;var Gt={};Gt[ve]=Gt[pe]=Gt[de]=Gt[_e]=Gt[ge]=Gt[me]=Gt[ye]=Gt[be]=Gt[we]=true;Gt[F]=Gt[U]=Gt[fe]=Gt[V]=Gt[he]=Gt[K]=Gt[Z]=Gt[G]=Gt[X]=Gt[Q]=Gt[te]=Gt[ie]=Gt[ae]=Gt[ue]=Gt[se]=false;var Yt={};Yt[F]=Yt[U]=Yt[fe]=Yt[he]=Yt[V]=Yt[K]=Yt[ve]=Yt[pe]=Yt[de]=Yt[_e]=Yt[ge]=Yt[X]=Yt[Q]=Yt[te]=Yt[ie]=Yt[ae]=Yt[ue]=Yt[oe]=Yt[me]=Yt[ye]=Yt[be]=Yt[we]=true;Yt[Z]=Yt[G]=Yt[se]=false;var Xt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"};var Qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var en={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};var nn=parseFloat,rn=parseInt;var an=typeof n.g=="object"&&n.g&&n.g.Object===Object&&n.g;var un=typeof self=="object"&&self&&self.Object===Object&&self;var on=an||un||Function("return this")();var ln=true&&t&&!t.nodeType&&t;var sn=ln&&"object"=="object"&&e&&!e.nodeType&&e;var cn=sn&&sn.exports===ln;var fn=cn&&an.process;var hn=function(){try{var e=sn&&sn.require&&sn.require("util").types;if(e){return e}return fn&&fn.binding&&fn.binding("util")}catch(t){}}();var vn=hn&&hn.isArrayBuffer,pn=hn&&hn.isDate,dn=hn&&hn.isMap,_n=hn&&hn.isRegExp,gn=hn&&hn.isSet,mn=hn&&hn.isTypedArray;function yn(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function bn(e,t,n,r){var i=-1,a=e==null?0:e.length;while(++i<a){var u=e[i];t(r,u,n(u),e)}return r}function wn(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(t(e[n],n,e)===false){break}}return e}function xn(e,t){var n=e==null?0:e.length;while(n--){if(t(e[n],n,e)===false){break}}return e}function kn(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(!t(e[n],n,e)){return false}}return true}function En(e,t){var n=-1,r=e==null?0:e.length,i=0,a=[];while(++n<r){var u=e[n];if(t(u,n,e)){a[i++]=u}}return a}function Cn(e,t){var n=e==null?0:e.length;return!!n&&Ln(e,t,0)>-1}function Sn(e,t,n){var r=-1,i=e==null?0:e.length;while(++r<i){if(n(t,e[r])){return true}}return false}function An(e,t){var n=-1,r=e==null?0:e.length,i=Array(r);while(++n<r){i[n]=t(e[n],n,e)}return i}function In(e,t){var n=-1,r=t.length,i=e.length;while(++n<r){e[i+n]=t[n]}return e}function jn(e,t,n,r){var i=-1,a=e==null?0:e.length;if(r&&a){n=e[++i]}while(++i<a){n=t(n,e[i],i,e)}return n}function Nn(e,t,n,r){var i=e==null?0:e.length;if(r&&i){n=e[--i]}while(i--){n=t(n,e[i],i,e)}return n}function Dn(e,t){var n=-1,r=e==null?0:e.length;while(++n<r){if(t(e[n],n,e)){return true}}return false}var Mn=Bn("length");function On(e){return e.split("")}function Rn(e){return e.match(qe)||[]}function Pn(e,t,n){var r;n(e,(function(e,n,i){if(t(e,n,i)){r=n;return false}}));return r}function zn(e,t,n,r){var i=e.length,a=n+(r?1:-1);while(r?a--:++a<i){if(t(e[a],a,e)){return a}}return-1}function Ln(e,t,n){return t===t?vr(e,t,n):zn(e,$n,n)}function Tn(e,t,n,r){var i=n-1,a=e.length;while(++i<a){if(r(e[i],t)){return i}}return-1}function $n(e){return e!==e}function Wn(e,t){var n=e==null?0:e.length;return n?Hn(e,t)/n:T}function Bn(e){return function(t){return t==null?i:t[e]}}function qn(e){return function(t){return e==null?i:e[t]}}function Fn(e,t,n,r,i){i(e,(function(e,i,a){n=r?(r=false,e):t(n,e,i,a)}));return n}function Un(e,t){var n=e.length;e.sort(t);while(n--){e[n]=e[n].value}return e}function Hn(e,t){var n,r=-1,a=e.length;while(++r<a){var u=t(e[r]);if(u!==i){n=n===i?u:n+u}}return n}function Vn(e,t){var n=-1,r=Array(e);while(++n<e){r[n]=t(n)}return r}function Kn(e,t){return An(t,(function(t){return[t,e[t]]}))}function Jn(e){return e?e.slice(0,gr(e)+1).replace(Le,""):e}function Zn(e){return function(t){return e(t)}}function Gn(e,t){return An(t,(function(t){return e[t]}))}function Yn(e,t){return e.has(t)}function Xn(e,t){var n=-1,r=e.length;while(++n<r&&Ln(t,e[n],0)>-1){}return n}function Qn(e,t){var n=e.length;while(n--&&Ln(t,e[n],0)>-1){}return n}function er(e,t){var n=e.length,r=0;while(n--){if(e[n]===t){++r}}return r}var tr=qn(Xt);var nr=qn(Qt);function rr(e){return"\\"+tn[e]}function ir(e,t){return e==null?i:e[t]}function ar(e){return Vt.test(e)}function ur(e){return Kt.test(e)}function or(e){var t,n=[];while(!(t=e.next()).done){n.push(t.value)}return n}function lr(e){var t=-1,n=Array(e.size);e.forEach((function(e,r){n[++t]=[r,e]}));return n}function sr(e,t){return function(n){return e(t(n))}}function cr(e,t){var n=-1,r=e.length,i=0,a=[];while(++n<r){var u=e[n];if(u===t||u===h){e[n]=h;a[i++]=n}}return a}function fr(e){var t=-1,n=Array(e.size);e.forEach((function(e){n[++t]=e}));return n}function hr(e){var t=-1,n=Array(e.size);e.forEach((function(e){n[++t]=[e,e]}));return n}function vr(e,t,n){var r=n-1,i=e.length;while(++r<i){if(e[r]===t){return r}}return-1}function pr(e,t,n){var r=n+1;while(r--){if(e[r]===t){return r}}return r}function dr(e){return ar(e)?yr(e):Mn(e)}function _r(e){return ar(e)?br(e):On(e)}function gr(e){var t=e.length;while(t--&&Te.test(e.charAt(t))){}return t}var mr=qn(en);function yr(e){var t=Ut.lastIndex=0;while(Ut.test(e)){++t}return t}function br(e){return e.match(Ut)||[]}function wr(e){return e.match(Ht)||[]}var xr=function e(t){t=t==null?on:kr.defaults(on.Object(),t,kr.pick(on,Jt));var n=t.Array,r=t.Date,Te=t.Error,qe=t.Function,tt=t.Math,nt=t.Object,rt=t.RegExp,it=t.String,at=t.TypeError;var ut=n.prototype,ot=qe.prototype,lt=nt.prototype;var st=t["__core-js_shared__"];var ct=ot.toString;var ft=lt.hasOwnProperty;var ht=0;var vt=function(){var e=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var pt=lt.toString;var dt=ct.call(nt);var _t=on._;var gt=rt("^"+ct.call(ft).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var mt=cn?t.Buffer:i,yt=t.Symbol,bt=t.Uint8Array,wt=mt?mt.allocUnsafe:i,xt=sr(nt.getPrototypeOf,nt),kt=nt.create,Et=lt.propertyIsEnumerable,Ct=ut.splice,St=yt?yt.isConcatSpreadable:i,At=yt?yt.iterator:i,It=yt?yt.toStringTag:i;var jt=function(){try{var e=Vu(nt,"defineProperty");e({},"",{});return e}catch(t){}}();var Nt=t.clearTimeout!==on.clearTimeout&&t.clearTimeout,Dt=r&&r.now!==on.Date.now&&r.now,Mt=t.setTimeout!==on.setTimeout&&t.setTimeout;var Ot=tt.ceil,Rt=tt.floor,Pt=nt.getOwnPropertySymbols,zt=mt?mt.isBuffer:i,Lt=t.isFinite,Tt=ut.join,$t=sr(nt.keys,nt),Wt=tt.max,Bt=tt.min,Ut=r.now,Ht=t.parseInt,Vt=tt.random,Kt=ut.reverse;var Xt=Vu(t,"DataView"),Qt=Vu(t,"Map"),en=Vu(t,"Promise"),tn=Vu(t,"Set"),an=Vu(t,"WeakMap"),un=Vu(nt,"create");var ln=an&&new an;var sn={};var fn=Mo(Xt),hn=Mo(Qt),Mn=Mo(en),On=Mo(tn),qn=Mo(an);var vr=yt?yt.prototype:i,yr=vr?vr.valueOf:i,br=vr?vr.toString:i;function xr(e){if(Cc(e)&&!lc(e)&&!(e instanceof Ar)){if(e instanceof Sr){return e}if(ft.call(e,"__wrapped__")){return Ro(e)}}return new Sr(e)}var Er=function(){function e(){}return function(t){if(!Ec(t)){return{}}if(kt){return kt(t)}e.prototype=t;var n=new e;e.prototype=i;return n}}();function Cr(){}function Sr(e,t){this.__wrapped__=e;this.__actions__=[];this.__chain__=!!t;this.__index__=0;this.__values__=i}xr.templateSettings={escape:je,evaluate:Ne,interpolate:De,variable:"",imports:{_:xr}};xr.prototype=Cr.prototype;xr.prototype.constructor=xr;Sr.prototype=Er(Cr.prototype);Sr.prototype.constructor=Sr;function Ar(e){this.__wrapped__=e;this.__actions__=[];this.__dir__=1;this.__filtered__=false;this.__iteratees__=[];this.__takeCount__=$;this.__views__=[]}function Ir(){var e=new Ar(this.__wrapped__);e.__actions__=ru(this.__actions__);e.__dir__=this.__dir__;e.__filtered__=this.__filtered__;e.__iteratees__=ru(this.__iteratees__);e.__takeCount__=this.__takeCount__;e.__views__=ru(this.__views__);return e}function jr(){if(this.__filtered__){var e=new Ar(this);e.__dir__=-1;e.__filtered__=true}else{e=this.clone();e.__dir__*=-1}return e}function Nr(){var e=this.__wrapped__.value(),t=this.__dir__,n=lc(e),r=t<0,i=n?e.length:0,a=Yu(0,i,this.__views__),u=a.start,o=a.end,l=o-u,s=r?o:u-1,c=this.__iteratees__,f=c.length,h=0,v=Bt(l,this.__takeCount__);if(!n||!r&&i==l&&v==l){return Ta(e,this.__actions__)}var p=[];e:while(l--&&h<v){s+=t;var d=-1,_=e[s];while(++d<f){var g=c[d],m=g.iteratee,y=g.type,b=m(_);if(y==O){_=b}else if(!b){if(y==M){continue e}else{break e}}}p[h++]=_}return p}Ar.prototype=Er(Cr.prototype);Ar.prototype.constructor=Ar;function Dr(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Mr(){this.__data__=un?un(null):{};this.size=0}function Or(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}function Rr(e){var t=this.__data__;if(un){var n=t[e];return n===c?i:n}return ft.call(t,e)?t[e]:i}function Pr(e){var t=this.__data__;return un?t[e]!==i:ft.call(t,e)}function zr(e,t){var n=this.__data__;this.size+=this.has(e)?0:1;n[e]=un&&t===i?c:t;return this}Dr.prototype.clear=Mr;Dr.prototype["delete"]=Or;Dr.prototype.get=Rr;Dr.prototype.has=Pr;Dr.prototype.set=zr;function Lr(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Tr(){this.__data__=[];this.size=0}function $r(e){var t=this.__data__,n=ci(t,e);if(n<0){return false}var r=t.length-1;if(n==r){t.pop()}else{Ct.call(t,n,1)}--this.size;return true}function Wr(e){var t=this.__data__,n=ci(t,e);return n<0?i:t[n][1]}function Br(e){return ci(this.__data__,e)>-1}function qr(e,t){var n=this.__data__,r=ci(n,e);if(r<0){++this.size;n.push([e,t])}else{n[r][1]=t}return this}Lr.prototype.clear=Tr;Lr.prototype["delete"]=$r;Lr.prototype.get=Wr;Lr.prototype.has=Br;Lr.prototype.set=qr;function Fr(e){var t=-1,n=e==null?0:e.length;this.clear();while(++t<n){var r=e[t];this.set(r[0],r[1])}}function Ur(){this.size=0;this.__data__={hash:new Dr,map:new(Qt||Lr),string:new Dr}}function Hr(e){var t=Uu(this,e)["delete"](e);this.size-=t?1:0;return t}function Vr(e){return Uu(this,e).get(e)}function Kr(e){return Uu(this,e).has(e)}function Jr(e,t){var n=Uu(this,e),r=n.size;n.set(e,t);this.size+=n.size==r?0:1;return this}Fr.prototype.clear=Ur;Fr.prototype["delete"]=Hr;Fr.prototype.get=Vr;Fr.prototype.has=Kr;Fr.prototype.set=Jr;function Zr(e){var t=-1,n=e==null?0:e.length;this.__data__=new Fr;while(++t<n){this.add(e[t])}}function Gr(e){this.__data__.set(e,c);return this}function Yr(e){return this.__data__.has(e)}Zr.prototype.add=Zr.prototype.push=Gr;Zr.prototype.has=Yr;function Xr(e){var t=this.__data__=new Lr(e);this.size=t.size}function Qr(){this.__data__=new Lr;this.size=0}function ei(e){var t=this.__data__,n=t["delete"](e);this.size=t.size;return n}function ti(e){return this.__data__.get(e)}function ni(e){return this.__data__.has(e)}function ri(e,t){var n=this.__data__;if(n instanceof Lr){var r=n.__data__;if(!Qt||r.length<u-1){r.push([e,t]);this.size=++n.size;return this}n=this.__data__=new Fr(r)}n.set(e,t);this.size=n.size;return this}Xr.prototype.clear=Qr;Xr.prototype["delete"]=ei;Xr.prototype.get=ti;Xr.prototype.has=ni;Xr.prototype.set=ri;function ii(e,t){var n=lc(e),r=!n&&oc(e),i=!n&&!r&&vc(e),a=!n&&!r&&!i&&Wc(e),u=n||r||i||a,o=u?Vn(e.length,it):[],l=o.length;for(var s in e){if((t||ft.call(e,s))&&!(u&&(s=="length"||i&&(s=="offset"||s=="parent")||a&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||ao(s,l)))){o.push(s)}}return o}function ai(e){var t=e.length;return t?e[ga(0,t-1)]:i}function ui(e,t){return jo(ru(e),_i(t,0,e.length))}function oi(e){return jo(ru(e))}function li(e,t,n){if(n!==i&&!ic(e[t],n)||n===i&&!(t in e)){pi(e,t,n)}}function si(e,t,n){var r=e[t];if(!(ft.call(e,t)&&ic(r,n))||n===i&&!(t in e)){pi(e,t,n)}}function ci(e,t){var n=e.length;while(n--){if(ic(e[n][0],t)){return n}}return-1}function fi(e,t,n,r){xi(e,(function(e,i,a){t(r,e,n(e),a)}));return r}function hi(e,t){return e&&iu(t,kf(t),e)}function vi(e,t){return e&&iu(t,Ef(t),e)}function pi(e,t,n){if(t=="__proto__"&&jt){jt(e,t,{configurable:true,enumerable:true,value:n,writable:true})}else{e[t]=n}}function di(e,t){var r=-1,a=t.length,u=n(a),o=e==null;while(++r<a){u[r]=o?i:gf(e,t[r])}return u}function _i(e,t,n){if(e===e){if(n!==i){e=e<=n?e:n}if(t!==i){e=e>=t?e:t}}return e}function gi(e,t,n,r,a,u){var o,l=t&v,s=t&p,c=t&d;if(n){o=a?n(e,r,a,u):n(e)}if(o!==i){return o}if(!Ec(e)){return e}var f=lc(e);if(f){o=eo(e);if(!l){return ru(e,o)}}else{var h=Gu(e),_=h==G||h==Y;if(vc(e)){return Ka(e,l)}if(h==te||h==F||_&&!a){o=s||_?{}:to(e);if(!l){return s?uu(e,vi(o,e)):au(e,hi(o,e))}}else{if(!Yt[h]){return a?e:{}}o=no(e,h,l)}}u||(u=new Xr);var g=u.get(e);if(g){return g}u.set(e,o);if(Lc(e)){e.forEach((function(r){o.add(gi(r,t,n,r,e,u))}))}else if(Sc(e)){e.forEach((function(r,i){o.set(i,gi(r,t,n,i,e,u))}))}var m=c?s?$u:Tu:s?Ef:kf;var y=f?i:m(e);wn(y||e,(function(r,i){if(y){i=r;r=e[i]}si(o,i,gi(r,t,n,i,e,u))}));return o}function mi(e){var t=kf(e);return function(n){return yi(n,e,t)}}function yi(e,t,n){var r=n.length;if(e==null){return!r}e=nt(e);while(r--){var a=n[r],u=t[a],o=e[a];if(o===i&&!(a in e)||!u(o)){return false}}return true}function bi(e,t,n){if(typeof e!="function"){throw new at(l)}return Co((function(){e.apply(i,n)}),t)}function wi(e,t,n,r){var i=-1,a=Cn,o=true,l=e.length,s=[],c=t.length;if(!l){return s}if(n){t=An(t,Zn(n))}if(r){a=Sn;o=false}else if(t.length>=u){a=Yn;o=false;t=new Zr(t)}e:while(++i<l){var f=e[i],h=n==null?f:n(f);f=r||f!==0?f:0;if(o&&h===h){var v=c;while(v--){if(t[v]===h){continue e}}s.push(f)}else if(!a(t,h,r)){s.push(f)}}return s}var xi=su(Di);var ki=su(Mi,true);function Ei(e,t){var n=true;xi(e,(function(e,r,i){n=!!t(e,r,i);return n}));return n}function Ci(e,t,n){var r=-1,a=e.length;while(++r<a){var u=e[r],o=t(u);if(o!=null&&(l===i?o===o&&!$c(o):n(o,l))){var l=o,s=u}}return s}function Si(e,t,n,r){var a=e.length;n=Jc(n);if(n<0){n=-n>a?0:a+n}r=r===i||r>a?a:Jc(r);if(r<0){r+=a}r=n>r?0:Zc(r);while(n<r){e[n++]=t}return e}function Ai(e,t){var n=[];xi(e,(function(e,r,i){if(t(e,r,i)){n.push(e)}}));return n}function Ii(e,t,n,r,i){var a=-1,u=e.length;n||(n=io);i||(i=[]);while(++a<u){var o=e[a];if(t>0&&n(o)){if(t>1){Ii(o,t-1,n,r,i)}else{In(i,o)}}else if(!r){i[i.length]=o}}return i}var ji=cu();var Ni=cu(true);function Di(e,t){return e&&ji(e,t,kf)}function Mi(e,t){return e&&Ni(e,t,kf)}function Oi(e,t){return En(t,(function(t){return wc(e[t])}))}function Ri(e,t){t=Fa(t,e);var n=0,r=t.length;while(e!=null&&n<r){e=e[Do(t[n++])]}return n&&n==r?e:i}function Pi(e,t,n){var r=t(e);return lc(e)?r:In(r,n(e))}function zi(e){if(e==null){return e===i?le:ee}return It&&It in nt(e)?Ku(e):yo(e)}function Li(e,t){return e>t}function Ti(e,t){return e!=null&&ft.call(e,t)}function $i(e,t){return e!=null&&t in nt(e)}function Wi(e,t,n){return e>=Bt(t,n)&&e<Wt(t,n)}function Bi(e,t,r){var a=r?Sn:Cn,u=e[0].length,o=e.length,l=o,s=n(o),c=Infinity,f=[];while(l--){var h=e[l];if(l&&t){h=An(h,Zn(t))}c=Bt(h.length,c);s[l]=!r&&(t||u>=120&&h.length>=120)?new Zr(l&&h):i}h=e[0];var v=-1,p=s[0];e:while(++v<u&&f.length<c){var d=h[v],_=t?t(d):d;d=r||d!==0?d:0;if(!(p?Yn(p,_):a(f,_,r))){l=o;while(--l){var g=s[l];if(!(g?Yn(g,_):a(e[l],_,r))){continue e}}if(p){p.push(_)}f.push(d)}}return f}function qi(e,t,n,r){Di(e,(function(e,i,a){t(r,n(e),i,a)}));return r}function Fi(e,t,n){t=Fa(t,e);e=wo(e,t);var r=e==null?e:e[Do(al(t))];return r==null?i:yn(r,e,n)}function Ui(e){return Cc(e)&&zi(e)==F}function Hi(e){return Cc(e)&&zi(e)==fe}function Vi(e){return Cc(e)&&zi(e)==K}function Ki(e,t,n,r,i){if(e===t){return true}if(e==null||t==null||!Cc(e)&&!Cc(t)){return e!==e&&t!==t}return Ji(e,t,n,r,Ki,i)}function Ji(e,t,n,r,i,a){var u=lc(e),o=lc(t),l=u?U:Gu(e),s=o?U:Gu(t);l=l==F?te:l;s=s==F?te:s;var c=l==te,f=s==te,h=l==s;if(h&&vc(e)){if(!vc(t)){return false}u=true;c=false}if(h&&!c){a||(a=new Xr);return u||Wc(e)?Ru(e,t,n,r,i,a):Pu(e,t,l,n,r,i,a)}if(!(n&_)){var v=c&&ft.call(e,"__wrapped__"),p=f&&ft.call(t,"__wrapped__");if(v||p){var d=v?e.value():e,g=p?t.value():t;a||(a=new Xr);return i(d,g,n,r,a)}}if(!h){return false}a||(a=new Xr);return zu(e,t,n,r,i,a)}function Zi(e){return Cc(e)&&Gu(e)==X}function Gi(e,t,n,r){var a=n.length,u=a,o=!r;if(e==null){return!u}e=nt(e);while(a--){var l=n[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e)){return false}}while(++a<u){l=n[a];var s=l[0],c=e[s],f=l[1];if(o&&l[2]){if(c===i&&!(s in e)){return false}}else{var h=new Xr;if(r){var v=r(c,f,s,e,t,h)}if(!(v===i?Ki(f,c,_|g,r,h):v)){return false}}}return true}function Yi(e){if(!Ec(e)||co(e)){return false}var t=wc(e)?gt:Ze;return t.test(Mo(e))}function Xi(e){return Cc(e)&&zi(e)==ie}function Qi(e){return Cc(e)&&Gu(e)==ae}function ea(e){return Cc(e)&&kc(e.length)&&!!Gt[zi(e)]}function ta(e){if(typeof e=="function"){return e}if(e==null){return Dh}if(typeof e=="object"){return lc(e)?oa(e[0],e[1]):ua(e)}return Uh(e)}function na(e){if(!ho(e)){return $t(e)}var t=[];for(var n in nt(e)){if(ft.call(e,n)&&n!="constructor"){t.push(n)}}return t}function ra(e){if(!Ec(e)){return mo(e)}var t=ho(e),n=[];for(var r in e){if(!(r=="constructor"&&(t||!ft.call(e,r)))){n.push(r)}}return n}function ia(e,t){return e<t}function aa(e,t){var r=-1,i=cc(e)?n(e.length):[];xi(e,(function(e,n,a){i[++r]=t(e,n,a)}));return i}function ua(e){var t=Hu(e);if(t.length==1&&t[0][2]){return po(t[0][0],t[0][1])}return function(n){return n===e||Gi(n,e,t)}}function oa(e,t){if(oo(e)&&vo(t)){return po(Do(e),t)}return function(n){var r=gf(n,e);return r===i&&r===t?yf(n,e):Ki(t,r,_|g)}}function la(e,t,n,r,a){if(e===t){return}ji(t,(function(u,o){a||(a=new Xr);if(Ec(u)){sa(e,t,o,n,la,r,a)}else{var l=r?r(ko(e,o),u,o+"",e,t,a):i;if(l===i){l=u}li(e,o,l)}}),Ef)}function sa(e,t,n,r,a,u,o){var l=ko(e,n),s=ko(t,n),c=o.get(s);if(c){li(e,n,c);return}var f=u?u(l,s,n+"",e,t,o):i;var h=f===i;if(h){var v=lc(s),p=!v&&vc(s),d=!v&&!p&&Wc(s);f=s;if(v||p||d){if(lc(l)){f=l}else if(fc(l)){f=ru(l)}else if(p){h=false;f=Ka(s,true)}else if(d){h=false;f=Xa(s,true)}else{f=[]}}else if(Rc(s)||oc(s)){f=l;if(oc(l)){f=Yc(l)}else if(!Ec(l)||wc(l)){f=to(s)}}else{h=false}}if(h){o.set(s,f);a(f,s,r,u,o);o["delete"](s)}li(e,n,f)}function ca(e,t){var n=e.length;if(!n){return}t+=t<0?n:0;return ao(t,n)?e[t]:i}function fa(e,t,n){if(t.length){t=An(t,(function(e){if(lc(e)){return function(t){return Ri(t,e.length===1?e[0]:e)}}return e}))}else{t=[Dh]}var r=-1;t=An(t,Zn(Fu()));var i=aa(e,(function(e,n,i){var a=An(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return Un(i,(function(e,t){return eu(e,t,n)}))}function ha(e,t){return va(e,t,(function(t,n){return yf(e,n)}))}function va(e,t,n){var r=-1,i=t.length,a={};while(++r<i){var u=t[r],o=Ri(e,u);if(n(o,u)){ka(a,Fa(u,e),o)}}return a}function pa(e){return function(t){return Ri(t,e)}}function da(e,t,n,r){var i=r?Tn:Ln,a=-1,u=t.length,o=e;if(e===t){t=ru(t)}if(n){o=An(e,Zn(n))}while(++a<u){var l=0,s=t[a],c=n?n(s):s;while((l=i(o,c,l,r))>-1){if(o!==e){Ct.call(o,l,1)}Ct.call(e,l,1)}}return e}function _a(e,t){var n=e?t.length:0,r=n-1;while(n--){var i=t[n];if(n==r||i!==a){var a=i;if(ao(i)){Ct.call(e,i,1)}else{Pa(e,i)}}}return e}function ga(e,t){return e+Rt(Vt()*(t-e+1))}function ma(e,t,r,i){var a=-1,u=Wt(Ot((t-e)/(r||1)),0),o=n(u);while(u--){o[i?u:++a]=e;e+=r}return o}function ya(e,t){var n="";if(!e||t<1||t>z){return n}do{if(t%2){n+=e}t=Rt(t/2);if(t){e+=e}}while(t);return n}function ba(e,t){return So(bo(e,t,Dh),e+"")}function wa(e){return ai(qf(e))}function xa(e,t){var n=qf(e);return jo(n,_i(t,0,n.length))}function ka(e,t,n,r){if(!Ec(e)){return e}t=Fa(t,e);var a=-1,u=t.length,o=u-1,l=e;while(l!=null&&++a<u){var s=Do(t[a]),c=n;if(s==="__proto__"||s==="constructor"||s==="prototype"){return e}if(a!=o){var f=l[s];c=r?r(f,s,l):i;if(c===i){c=Ec(f)?f:ao(t[a+1])?[]:{}}}si(l,s,c);l=l[s]}return e}var Ea=!ln?Dh:function(e,t){ln.set(e,t);return e};var Ca=!jt?Dh:function(e,t){return jt(e,"toString",{configurable:true,enumerable:false,value:Ah(t),writable:true})};function Sa(e){return jo(qf(e))}function Aa(e,t,r){var i=-1,a=e.length;if(t<0){t=-t>a?0:a+t}r=r>a?a:r;if(r<0){r+=a}a=t>r?0:r-t>>>0;t>>>=0;var u=n(a);while(++i<a){u[i]=e[i+t]}return u}function Ia(e,t){var n;xi(e,(function(e,r,i){n=t(e,r,i);return!n}));return!!n}function ja(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=B){while(r<i){var a=r+i>>>1,u=e[a];if(u!==null&&!$c(u)&&(n?u<=t:u<t)){r=a+1}else{i=a}}return i}return Na(e,t,Dh,n)}function Na(e,t,n,r){var a=0,u=e==null?0:e.length;if(u===0){return 0}t=n(t);var o=t!==t,l=t===null,s=$c(t),c=t===i;while(a<u){var f=Rt((a+u)/2),h=n(e[f]),v=h!==i,p=h===null,d=h===h,_=$c(h);if(o){var g=r||d}else if(c){g=d&&(r||v)}else if(l){g=d&&v&&(r||!p)}else if(s){g=d&&v&&!p&&(r||!_)}else if(p||_){g=false}else{g=r?h<=t:h<t}if(g){a=f+1}else{u=f}}return Bt(u,W)}function Da(e,t){var n=-1,r=e.length,i=0,a=[];while(++n<r){var u=e[n],o=t?t(u):u;if(!n||!ic(o,l)){var l=o;a[i++]=u===0?0:u}}return a}function Ma(e){if(typeof e=="number"){return e}if($c(e)){return T}return+e}function Oa(e){if(typeof e=="string"){return e}if(lc(e)){return An(e,Oa)+""}if($c(e)){return br?br.call(e):""}var t=e+"";return t=="0"&&1/e==-P?"-0":t}function Ra(e,t,n){var r=-1,i=Cn,a=e.length,o=true,l=[],s=l;if(n){o=false;i=Sn}else if(a>=u){var c=t?null:Iu(e);if(c){return fr(c)}o=false;i=Yn;s=new Zr}else{s=t?[]:l}e:while(++r<a){var f=e[r],h=t?t(f):f;f=n||f!==0?f:0;if(o&&h===h){var v=s.length;while(v--){if(s[v]===h){continue e}}if(t){s.push(h)}l.push(f)}else if(!i(s,h,n)){if(s!==l){s.push(h)}l.push(f)}}return l}function Pa(e,t){t=Fa(t,e);e=wo(e,t);return e==null||delete e[Do(al(t))]}function za(e,t,n,r){return ka(e,t,n(Ri(e,t)),r)}function La(e,t,n,r){var i=e.length,a=r?i:-1;while((r?a--:++a<i)&&t(e[a],a,e)){}return n?Aa(e,r?0:a,r?a+1:i):Aa(e,r?a+1:0,r?i:a)}function Ta(e,t){var n=e;if(n instanceof Ar){n=n.value()}return jn(t,(function(e,t){return t.func.apply(t.thisArg,In([e],t.args))}),n)}function $a(e,t,r){var i=e.length;if(i<2){return i?Ra(e[0]):[]}var a=-1,u=n(i);while(++a<i){var o=e[a],l=-1;while(++l<i){if(l!=a){u[a]=wi(u[a]||o,e[l],t,r)}}}return Ra(Ii(u,1),t,r)}function Wa(e,t,n){var r=-1,a=e.length,u=t.length,o={};while(++r<a){var l=r<u?t[r]:i;n(o,e[r],l)}return o}function Ba(e){return fc(e)?e:[]}function qa(e){return typeof e=="function"?e:Dh}function Fa(e,t){if(lc(e)){return e}return oo(e,t)?[e]:No(Qc(e))}var Ua=ba;function Ha(e,t,n){var r=e.length;n=n===i?r:n;return!t&&n>=r?e:Aa(e,t,n)}var Va=Nt||function(e){return on.clearTimeout(e)};function Ka(e,t){if(t){return e.slice()}var n=e.length,r=wt?wt(n):new e.constructor(n);e.copy(r);return r}function Ja(e){var t=new e.constructor(e.byteLength);new bt(t).set(new bt(e));return t}function Za(e,t){var n=t?Ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ga(e){var t=new e.constructor(e.source,Ve.exec(e));t.lastIndex=e.lastIndex;return t}function Ya(e){return yr?nt(yr.call(e)):{}}function Xa(e,t){var n=t?Ja(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Qa(e,t){if(e!==t){var n=e!==i,r=e===null,a=e===e,u=$c(e);var o=t!==i,l=t===null,s=t===t,c=$c(t);if(!l&&!c&&!u&&e>t||u&&o&&s&&!l&&!c||r&&o&&s||!n&&s||!a){return 1}if(!r&&!u&&!c&&e<t||c&&n&&a&&!r&&!u||l&&n&&a||!o&&a||!s){return-1}}return 0}function eu(e,t,n){var r=-1,i=e.criteria,a=t.criteria,u=i.length,o=n.length;while(++r<u){var l=Qa(i[r],a[r]);if(l){if(r>=o){return l}var s=n[r];return l*(s=="desc"?-1:1)}}return e.index-t.index}function tu(e,t,r,i){var a=-1,u=e.length,o=r.length,l=-1,s=t.length,c=Wt(u-o,0),f=n(s+c),h=!i;while(++l<s){f[l]=t[l]}while(++a<o){if(h||a<u){f[r[a]]=e[a]}}while(c--){f[l++]=e[a++]}return f}function nu(e,t,r,i){var a=-1,u=e.length,o=-1,l=r.length,s=-1,c=t.length,f=Wt(u-l,0),h=n(f+c),v=!i;while(++a<f){h[a]=e[a]}var p=a;while(++s<c){h[p+s]=t[s]}while(++o<l){if(v||a<u){h[p+r[o]]=e[a++]}}return h}function ru(e,t){var r=-1,i=e.length;t||(t=n(i));while(++r<i){t[r]=e[r]}return t}function iu(e,t,n,r){var a=!n;n||(n={});var u=-1,o=t.length;while(++u<o){var l=t[u];var s=r?r(n[l],e[l],l,n,e):i;if(s===i){s=e[l]}if(a){pi(n,l,s)}else{si(n,l,s)}}return n}function au(e,t){return iu(e,Ju(e),t)}function uu(e,t){return iu(e,Zu(e),t)}function ou(e,t){return function(n,r){var i=lc(n)?bn:fi,a=t?t():{};return i(n,e,Fu(r,2),a)}}function lu(e){return ba((function(t,n){var r=-1,a=n.length,u=a>1?n[a-1]:i,o=a>2?n[2]:i;u=e.length>3&&typeof u=="function"?(a--,u):i;if(o&&uo(n[0],n[1],o)){u=a<3?i:u;a=1}t=nt(t);while(++r<a){var l=n[r];if(l){e(t,l,r,u)}}return t}))}function su(e,t){return function(n,r){if(n==null){return n}if(!cc(n)){return e(n,r)}var i=n.length,a=t?i:-1,u=nt(n);while(t?a--:++a<i){if(r(u[a],a,u)===false){break}}return n}}function cu(e){return function(t,n,r){var i=-1,a=nt(t),u=r(t),o=u.length;while(o--){var l=u[e?o:++i];if(n(a[l],l,a)===false){break}}return t}}function fu(e,t,n){var r=t&m,i=pu(e);function a(){var t=this&&this!==on&&this instanceof a?i:e;return t.apply(r?n:this,arguments)}return a}function hu(e){return function(t){t=Qc(t);var n=ar(t)?_r(t):i;var r=n?n[0]:t.charAt(0);var a=n?Ha(n,1).join(""):t.slice(1);return r[e]()+a}}function vu(e){return function(t){return jn(xh(Zf(t).replace(qt,"")),e,"")}}function pu(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Er(e.prototype),r=e.apply(n,t);return Ec(r)?r:n}}function du(e,t,r){var a=pu(e);function u(){var o=arguments.length,l=n(o),s=o,c=qu(u);while(s--){l[s]=arguments[s]}var f=o<3&&l[0]!==c&&l[o-1]!==c?[]:cr(l,c);o-=f.length;if(o<r){return Su(e,t,mu,u.placeholder,i,l,f,i,i,r-o)}var h=this&&this!==on&&this instanceof u?a:e;return yn(h,this,l)}return u}function _u(e){return function(t,n,r){var a=nt(t);if(!cc(t)){var u=Fu(n,3);t=kf(t);n=function(e){return u(a[e],e,a)}}var o=e(t,n,r);return o>-1?a[u?t[o]:o]:i}}function gu(e){return Lu((function(t){var n=t.length,r=n,a=Sr.prototype.thru;if(e){t.reverse()}while(r--){var u=t[r];if(typeof u!="function"){throw new at(l)}if(a&&!o&&Bu(u)=="wrapper"){var o=new Sr([],true)}}r=o?r:n;while(++r<n){u=t[r];var s=Bu(u),c=s=="wrapper"?Wu(u):i;if(c&&so(c[0])&&c[1]==(C|w|k|S)&&!c[4].length&&c[9]==1){o=o[Bu(c[0])].apply(o,c[3])}else{o=u.length==1&&so(u)?o[s]():o.thru(u)}}return function(){var e=arguments,r=e[0];if(o&&e.length==1&&lc(r)){return o.plant(r).value()}var i=0,a=n?t[i].apply(this,e):r;while(++i<n){a=t[i].call(this,a)}return a}}))}function mu(e,t,r,a,u,o,l,s,c,f){var h=t&C,v=t&m,p=t&y,d=t&(w|x),_=t&A,g=p?i:pu(e);function b(){var i=arguments.length,m=n(i),y=i;while(y--){m[y]=arguments[y]}if(d){var w=qu(b),x=er(m,w)}if(a){m=tu(m,a,u,d)}if(o){m=nu(m,o,l,d)}i-=x;if(d&&i<f){var k=cr(m,w);return Su(e,t,mu,b.placeholder,r,m,k,s,c,f-i)}var E=v?r:this,C=p?E[e]:e;i=m.length;if(s){m=xo(m,s)}else if(_&&i>1){m.reverse()}if(h&&c<i){m.length=c}if(this&&this!==on&&this instanceof b){C=g||pu(C)}return C.apply(E,m)}return b}function yu(e,t){return function(n,r){return qi(n,e,t(r),{})}}function bu(e,t){return function(n,r){var a;if(n===i&&r===i){return t}if(n!==i){a=n}if(r!==i){if(a===i){return r}if(typeof n=="string"||typeof r=="string"){n=Oa(n);r=Oa(r)}else{n=Ma(n);r=Ma(r)}a=e(n,r)}return a}}function wu(e){return Lu((function(t){t=An(t,Zn(Fu()));return ba((function(n){var r=this;return e(t,(function(e){return yn(e,r,n)}))}))}))}function xu(e,t){t=t===i?" ":Oa(t);var n=t.length;if(n<2){return n?ya(t,e):t}var r=ya(t,Ot(e/dr(t)));return ar(t)?Ha(_r(r),0,e).join(""):r.slice(0,e)}function ku(e,t,r,i){var a=t&m,u=pu(e);function o(){var t=-1,l=arguments.length,s=-1,c=i.length,f=n(c+l),h=this&&this!==on&&this instanceof o?u:e;while(++s<c){f[s]=i[s]}while(l--){f[s++]=arguments[++t]}return yn(h,a?r:this,f)}return o}function Eu(e){return function(t,n,r){if(r&&typeof r!="number"&&uo(t,n,r)){n=r=i}t=Kc(t);if(n===i){n=t;t=0}else{n=Kc(n)}r=r===i?t<n?1:-1:Kc(r);return ma(t,n,r,e)}}function Cu(e){return function(t,n){if(!(typeof t=="string"&&typeof n=="string")){t=Gc(t);n=Gc(n)}return e(t,n)}}function Su(e,t,n,r,a,u,o,l,s,c){var f=t&w,h=f?o:i,v=f?i:o,p=f?u:i,d=f?i:u;t|=f?k:E;t&=~(f?E:k);if(!(t&b)){t&=~(m|y)}var _=[e,t,a,p,h,d,v,l,s,c];var g=n.apply(i,_);if(so(e)){Eo(g,_)}g.placeholder=r;return Ao(g,e,t)}function Au(e){var t=tt[e];return function(e,n){e=Gc(e);n=n==null?0:Bt(Jc(n),292);if(n&&Lt(e)){var r=(Qc(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));r=(Qc(i)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return t(e)}}var Iu=!(tn&&1/fr(new tn([,-0]))[1]==P)?$h:function(e){return new tn(e)};function ju(e){return function(t){var n=Gu(t);if(n==X){return lr(t)}if(n==ae){return hr(t)}return Kn(t,e(t))}}function Nu(e,t,n,r,a,u,o,s){var c=t&y;if(!c&&typeof e!="function"){throw new at(l)}var f=r?r.length:0;if(!f){t&=~(k|E);r=a=i}o=o===i?o:Wt(Jc(o),0);s=s===i?s:Jc(s);f-=a?a.length:0;if(t&E){var h=r,v=a;r=a=i}var p=c?i:Wu(e);var d=[e,t,n,r,a,h,v,u,o,s];if(p){go(d,p)}e=d[0];t=d[1];n=d[2];r=d[3];a=d[4];s=d[9]=d[9]===i?c?0:e.length:Wt(d[9]-f,0);if(!s&&t&(w|x)){t&=~(w|x)}if(!t||t==m){var _=fu(e,t,n)}else if(t==w||t==x){_=du(e,t,s)}else if((t==k||t==(m|k))&&!a.length){_=ku(e,t,n,r)}else{_=mu.apply(i,d)}var g=p?Ea:Eo;return Ao(g(_,d),e,t)}function Du(e,t,n,r){if(e===i||ic(e,lt[n])&&!ft.call(r,n)){return t}return e}function Mu(e,t,n,r,a,u){if(Ec(e)&&Ec(t)){u.set(t,e);la(e,t,i,Mu,u);u["delete"](t)}return e}function Ou(e){return Rc(e)?i:e}function Ru(e,t,n,r,a,u){var o=n&_,l=e.length,s=t.length;if(l!=s&&!(o&&s>l)){return false}var c=u.get(e);var f=u.get(t);if(c&&f){return c==t&&f==e}var h=-1,v=true,p=n&g?new Zr:i;u.set(e,t);u.set(t,e);while(++h<l){var d=e[h],m=t[h];if(r){var y=o?r(m,d,h,t,e,u):r(d,m,h,e,t,u)}if(y!==i){if(y){continue}v=false;break}if(p){if(!Dn(t,(function(e,t){if(!Yn(p,t)&&(d===e||a(d,e,n,r,u))){return p.push(t)}}))){v=false;break}}else if(!(d===m||a(d,m,n,r,u))){v=false;break}}u["delete"](e);u["delete"](t);return v}function Pu(e,t,n,r,i,a,u){switch(n){case he:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case fe:if(e.byteLength!=t.byteLength||!a(new bt(e),new bt(t))){return false}return true;case V:case K:case Q:return ic(+e,+t);case Z:return e.name==t.name&&e.message==t.message;case ie:case ue:return e==t+"";case X:var o=lr;case ae:var l=r&_;o||(o=fr);if(e.size!=t.size&&!l){return false}var s=u.get(e);if(s){return s==t}r|=g;u.set(e,t);var c=Ru(o(e),o(t),r,i,a,u);u["delete"](e);return c;case oe:if(yr){return yr.call(e)==yr.call(t)}}return false}function zu(e,t,n,r,a,u){var o=n&_,l=Tu(e),s=l.length,c=Tu(t),f=c.length;if(s!=f&&!o){return false}var h=s;while(h--){var v=l[h];if(!(o?v in t:ft.call(t,v))){return false}}var p=u.get(e);var d=u.get(t);if(p&&d){return p==t&&d==e}var g=true;u.set(e,t);u.set(t,e);var m=o;while(++h<s){v=l[h];var y=e[v],b=t[v];if(r){var w=o?r(b,y,v,t,e,u):r(y,b,v,e,t,u)}if(!(w===i?y===b||a(y,b,n,r,u):w)){g=false;break}m||(m=v=="constructor")}if(g&&!m){var x=e.constructor,k=t.constructor;if(x!=k&&("constructor"in e&&"constructor"in t)&&!(typeof x=="function"&&x instanceof x&&typeof k=="function"&&k instanceof k)){g=false}}u["delete"](e);u["delete"](t);return g}function Lu(e){return So(bo(e,i,Jo),e+"")}function Tu(e){return Pi(e,kf,Ju)}function $u(e){return Pi(e,Ef,Zu)}var Wu=!ln?$h:function(e){return ln.get(e)};function Bu(e){var t=e.name+"",n=sn[t],r=ft.call(sn,t)?n.length:0;while(r--){var i=n[r],a=i.func;if(a==null||a==e){return i.name}}return t}function qu(e){var t=ft.call(xr,"placeholder")?xr:e;return t.placeholder}function Fu(){var e=xr.iteratee||Mh;e=e===Mh?ta:e;return arguments.length?e(arguments[0],arguments[1]):e}function Uu(e,t){var n=e.__data__;return lo(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Hu(e){var t=kf(e),n=t.length;while(n--){var r=t[n],i=e[r];t[n]=[r,i,vo(i)]}return t}function Vu(e,t){var n=ir(e,t);return Yi(n)?n:i}function Ku(e){var t=ft.call(e,It),n=e[It];try{e[It]=i;var r=true}catch(u){}var a=pt.call(e);if(r){if(t){e[It]=n}else{delete e[It]}}return a}var Ju=!Pt?Jh:function(e){if(e==null){return[]}e=nt(e);return En(Pt(e),(function(t){return Et.call(e,t)}))};var Zu=!Pt?Jh:function(e){var t=[];while(e){In(t,Ju(e));e=xt(e)}return t};var Gu=zi;if(Xt&&Gu(new Xt(new ArrayBuffer(1)))!=he||Qt&&Gu(new Qt)!=X||en&&Gu(en.resolve())!=ne||tn&&Gu(new tn)!=ae||an&&Gu(new an)!=se){Gu=function(e){var t=zi(e),n=t==te?e.constructor:i,r=n?Mo(n):"";if(r){switch(r){case fn:return he;case hn:return X;case Mn:return ne;case On:return ae;case qn:return se}}return t}}function Yu(e,t,n){var r=-1,i=n.length;while(++r<i){var a=n[r],u=a.size;switch(a.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=Bt(t,e+u);break;case"takeRight":e=Wt(e,t-u);break}}return{start:e,end:t}}function Xu(e){var t=e.match(We);return t?t[1].split(Be):[]}function Qu(e,t,n){t=Fa(t,e);var r=-1,i=t.length,a=false;while(++r<i){var u=Do(t[r]);if(!(a=e!=null&&n(e,u))){break}e=e[u]}if(a||++r!=i){return a}i=e==null?0:e.length;return!!i&&kc(i)&&ao(u,i)&&(lc(e)||oc(e))}function eo(e){var t=e.length,n=new e.constructor(t);if(t&&typeof e[0]=="string"&&ft.call(e,"index")){n.index=e.index;n.input=e.input}return n}function to(e){return typeof e.constructor=="function"&&!ho(e)?Er(xt(e)):{}}function no(e,t,n){var r=e.constructor;switch(t){case fe:return Ja(e);case V:case K:return new r(+e);case he:return Za(e,n);case ve:case pe:case de:case _e:case ge:case me:case ye:case be:case we:return Xa(e,n);case X:return new r;case Q:case ue:return new r(e);case ie:return Ga(e);case ae:return new r;case oe:return Ya(e)}}function ro(e,t){var n=t.length;if(!n){return e}var r=n-1;t[r]=(n>1?"& ":"")+t[r];t=t.join(n>2?", ":" ");return e.replace($e,"{\n/* [wrapped with "+t+"] */\n")}function io(e){return lc(e)||oc(e)||!!(St&&e&&e[St])}function ao(e,t){var n=typeof e;t=t==null?z:t;return!!t&&(n=="number"||n!="symbol"&&Ye.test(e))&&(e>-1&&e%1==0&&e<t)}function uo(e,t,n){if(!Ec(n)){return false}var r=typeof t;if(r=="number"?cc(n)&&ao(t,n.length):r=="string"&&t in n){return ic(n[t],e)}return false}function oo(e,t){if(lc(e)){return false}var n=typeof e;if(n=="number"||n=="symbol"||n=="boolean"||e==null||$c(e)){return true}return Oe.test(e)||!Me.test(e)||t!=null&&e in nt(t)}function lo(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function so(e){var t=Bu(e),n=xr[t];if(typeof n!="function"||!(t in Ar.prototype)){return false}if(e===n){return true}var r=Wu(n);return!!r&&e===r[0]}function co(e){return!!vt&&vt in e}var fo=st?wc:Zh;function ho(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||lt;return e===n}function vo(e){return e===e&&!Ec(e)}function po(e,t){return function(n){if(n==null){return false}return n[e]===t&&(t!==i||e in nt(n))}}function _o(e){var t=Ws(e,(function(e){if(n.size===f){n.clear()}return e}));var n=t.cache;return t}function go(e,t){var n=e[1],r=t[1],i=n|r,a=i<(m|y|C);var u=r==C&&n==w||r==C&&n==S&&e[7].length<=t[8]||r==(C|S)&&t[7].length<=t[8]&&n==w;if(!(a||u)){return e}if(r&m){e[2]=t[2];i|=n&m?0:b}var o=t[3];if(o){var l=e[3];e[3]=l?tu(l,o,t[4]):o;e[4]=l?cr(e[3],h):t[4]}o=t[5];if(o){l=e[5];e[5]=l?nu(l,o,t[6]):o;e[6]=l?cr(e[5],h):t[6]}o=t[7];if(o){e[7]=o}if(r&C){e[8]=e[8]==null?t[8]:Bt(e[8],t[8])}if(e[9]==null){e[9]=t[9]}e[0]=t[0];e[1]=i;return e}function mo(e){var t=[];if(e!=null){for(var n in nt(e)){t.push(n)}}return t}function yo(e){return pt.call(e)}function bo(e,t,r){t=Wt(t===i?e.length-1:t,0);return function(){var i=arguments,a=-1,u=Wt(i.length-t,0),o=n(u);while(++a<u){o[a]=i[t+a]}a=-1;var l=n(t+1);while(++a<t){l[a]=i[a]}l[t]=r(o);return yn(e,this,l)}}function wo(e,t){return t.length<2?e:Ri(e,Aa(t,0,-1))}function xo(e,t){var n=e.length,r=Bt(t.length,n),a=ru(e);while(r--){var u=t[r];e[r]=ao(u,n)?a[u]:i}return e}function ko(e,t){if(t==="constructor"&&typeof e[t]==="function"){return}if(t=="__proto__"){return}return e[t]}var Eo=Io(Ea);var Co=Mt||function(e,t){return on.setTimeout(e,t)};var So=Io(Ca);function Ao(e,t,n){var r=t+"";return So(e,ro(r,Oo(Xu(r),n)))}function Io(e){var t=0,n=0;return function(){var r=Ut(),a=D-(r-n);n=r;if(a>0){if(++t>=N){return arguments[0]}}else{t=0}return e.apply(i,arguments)}}function jo(e,t){var n=-1,r=e.length,a=r-1;t=t===i?r:t;while(++n<t){var u=ga(n,a),o=e[u];e[u]=e[n];e[n]=o}e.length=t;return e}var No=_o((function(e){var t=[];if(e.charCodeAt(0)===46){t.push("")}e.replace(Re,(function(e,n,r,i){t.push(r?i.replace(Ue,"$1"):n||e)}));return t}));function Do(e){if(typeof e=="string"||$c(e)){return e}var t=e+"";return t=="0"&&1/e==-P?"-0":t}function Mo(e){if(e!=null){try{return ct.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Oo(e,t){wn(q,(function(n){var r="_."+n[0];if(t&n[1]&&!Cn(e,r)){e.push(r)}}));return e.sort()}function Ro(e){if(e instanceof Ar){return e.clone()}var t=new Sr(e.__wrapped__,e.__chain__);t.__actions__=ru(e.__actions__);t.__index__=e.__index__;t.__values__=e.__values__;return t}function Po(e,t,r){if(r?uo(e,t,r):t===i){t=1}else{t=Wt(Jc(t),0)}var a=e==null?0:e.length;if(!a||t<1){return[]}var u=0,o=0,l=n(Ot(a/t));while(u<a){l[o++]=Aa(e,u,u+=t)}return l}function zo(e){var t=-1,n=e==null?0:e.length,r=0,i=[];while(++t<n){var a=e[t];if(a){i[r++]=a}}return i}function Lo(){var e=arguments.length;if(!e){return[]}var t=n(e-1),r=arguments[0],i=e;while(i--){t[i-1]=arguments[i]}return In(lc(r)?ru(r):[r],Ii(t,1))}var To=ba((function(e,t){return fc(e)?wi(e,Ii(t,1,fc,true)):[]}));var $o=ba((function(e,t){var n=al(t);if(fc(n)){n=i}return fc(e)?wi(e,Ii(t,1,fc,true),Fu(n,2)):[]}));var Wo=ba((function(e,t){var n=al(t);if(fc(n)){n=i}return fc(e)?wi(e,Ii(t,1,fc,true),i,n):[]}));function Bo(e,t,n){var r=e==null?0:e.length;if(!r){return[]}t=n||t===i?1:Jc(t);return Aa(e,t<0?0:t,r)}function qo(e,t,n){var r=e==null?0:e.length;if(!r){return[]}t=n||t===i?1:Jc(t);t=r-t;return Aa(e,0,t<0?0:t)}function Fo(e,t){return e&&e.length?La(e,Fu(t,3),true,true):[]}function Uo(e,t){return e&&e.length?La(e,Fu(t,3),true):[]}function Ho(e,t,n,r){var i=e==null?0:e.length;if(!i){return[]}if(n&&typeof n!="number"&&uo(e,t,n)){n=0;r=i}return Si(e,t,n,r)}function Vo(e,t,n){var r=e==null?0:e.length;if(!r){return-1}var i=n==null?0:Jc(n);if(i<0){i=Wt(r+i,0)}return zn(e,Fu(t,3),i)}function Ko(e,t,n){var r=e==null?0:e.length;if(!r){return-1}var a=r-1;if(n!==i){a=Jc(n);a=n<0?Wt(r+a,0):Bt(a,r-1)}return zn(e,Fu(t,3),a,true)}function Jo(e){var t=e==null?0:e.length;return t?Ii(e,1):[]}function Zo(e){var t=e==null?0:e.length;return t?Ii(e,P):[]}function Go(e,t){var n=e==null?0:e.length;if(!n){return[]}t=t===i?1:Jc(t);return Ii(e,t)}function Yo(e){var t=-1,n=e==null?0:e.length,r={};while(++t<n){var i=e[t];r[i[0]]=i[1]}return r}function Xo(e){return e&&e.length?e[0]:i}function Qo(e,t,n){var r=e==null?0:e.length;if(!r){return-1}var i=n==null?0:Jc(n);if(i<0){i=Wt(r+i,0)}return Ln(e,t,i)}function el(e){var t=e==null?0:e.length;return t?Aa(e,0,-1):[]}var tl=ba((function(e){var t=An(e,Ba);return t.length&&t[0]===e[0]?Bi(t):[]}));var nl=ba((function(e){var t=al(e),n=An(e,Ba);if(t===al(n)){t=i}else{n.pop()}return n.length&&n[0]===e[0]?Bi(n,Fu(t,2)):[]}));var rl=ba((function(e){var t=al(e),n=An(e,Ba);t=typeof t=="function"?t:i;if(t){n.pop()}return n.length&&n[0]===e[0]?Bi(n,i,t):[]}));function il(e,t){return e==null?"":Tt.call(e,t)}function al(e){var t=e==null?0:e.length;return t?e[t-1]:i}function ul(e,t,n){var r=e==null?0:e.length;if(!r){return-1}var a=r;if(n!==i){a=Jc(n);a=a<0?Wt(r+a,0):Bt(a,r-1)}return t===t?pr(e,t,a):zn(e,$n,a,true)}function ol(e,t){return e&&e.length?ca(e,Jc(t)):i}var ll=ba(sl);function sl(e,t){return e&&e.length&&t&&t.length?da(e,t):e}function cl(e,t,n){return e&&e.length&&t&&t.length?da(e,t,Fu(n,2)):e}function fl(e,t,n){return e&&e.length&&t&&t.length?da(e,t,i,n):e}var hl=Lu((function(e,t){var n=e==null?0:e.length,r=di(e,t);_a(e,An(t,(function(e){return ao(e,n)?+e:e})).sort(Qa));return r}));function vl(e,t){var n=[];if(!(e&&e.length)){return n}var r=-1,i=[],a=e.length;t=Fu(t,3);while(++r<a){var u=e[r];if(t(u,r,e)){n.push(u);i.push(r)}}_a(e,i);return n}function pl(e){return e==null?e:Kt.call(e)}function dl(e,t,n){var r=e==null?0:e.length;if(!r){return[]}if(n&&typeof n!="number"&&uo(e,t,n)){t=0;n=r}else{t=t==null?0:Jc(t);n=n===i?r:Jc(n)}return Aa(e,t,n)}function _l(e,t){return ja(e,t)}function gl(e,t,n){return Na(e,t,Fu(n,2))}function ml(e,t){var n=e==null?0:e.length;if(n){var r=ja(e,t);if(r<n&&ic(e[r],t)){return r}}return-1}function yl(e,t){return ja(e,t,true)}function bl(e,t,n){return Na(e,t,Fu(n,2),true)}function wl(e,t){var n=e==null?0:e.length;if(n){var r=ja(e,t,true)-1;if(ic(e[r],t)){return r}}return-1}function xl(e){return e&&e.length?Da(e):[]}function kl(e,t){return e&&e.length?Da(e,Fu(t,2)):[]}function El(e){var t=e==null?0:e.length;return t?Aa(e,1,t):[]}function Cl(e,t,n){if(!(e&&e.length)){return[]}t=n||t===i?1:Jc(t);return Aa(e,0,t<0?0:t)}function Sl(e,t,n){var r=e==null?0:e.length;if(!r){return[]}t=n||t===i?1:Jc(t);t=r-t;return Aa(e,t<0?0:t,r)}function Al(e,t){return e&&e.length?La(e,Fu(t,3),false,true):[]}function Il(e,t){return e&&e.length?La(e,Fu(t,3)):[]}var jl=ba((function(e){return Ra(Ii(e,1,fc,true))}));var Nl=ba((function(e){var t=al(e);if(fc(t)){t=i}return Ra(Ii(e,1,fc,true),Fu(t,2))}));var Dl=ba((function(e){var t=al(e);t=typeof t=="function"?t:i;return Ra(Ii(e,1,fc,true),i,t)}));function Ml(e){return e&&e.length?Ra(e):[]}function Ol(e,t){return e&&e.length?Ra(e,Fu(t,2)):[]}function Rl(e,t){t=typeof t=="function"?t:i;return e&&e.length?Ra(e,i,t):[]}function Pl(e){if(!(e&&e.length)){return[]}var t=0;e=En(e,(function(e){if(fc(e)){t=Wt(e.length,t);return true}}));return Vn(t,(function(t){return An(e,Bn(t))}))}function zl(e,t){if(!(e&&e.length)){return[]}var n=Pl(e);if(t==null){return n}return An(n,(function(e){return yn(t,i,e)}))}var Ll=ba((function(e,t){return fc(e)?wi(e,t):[]}));var Tl=ba((function(e){return $a(En(e,fc))}));var $l=ba((function(e){var t=al(e);if(fc(t)){t=i}return $a(En(e,fc),Fu(t,2))}));var Wl=ba((function(e){var t=al(e);t=typeof t=="function"?t:i;return $a(En(e,fc),i,t)}));var Bl=ba(Pl);function ql(e,t){return Wa(e||[],t||[],si)}function Fl(e,t){return Wa(e||[],t||[],ka)}var Ul=ba((function(e){var t=e.length,n=t>1?e[t-1]:i;n=typeof n=="function"?(e.pop(),n):i;return zl(e,n)}));function Hl(e){var t=xr(e);t.__chain__=true;return t}function Vl(e,t){t(e);return e}function Kl(e,t){return t(e)}var Jl=Lu((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return di(t,e)};if(t>1||this.__actions__.length||!(r instanceof Ar)||!ao(n)){return this.thru(a)}r=r.slice(n,+n+(t?1:0));r.__actions__.push({func:Kl,args:[a],thisArg:i});return new Sr(r,this.__chain__).thru((function(e){if(t&&!e.length){e.push(i)}return e}))}));function Zl(){return Hl(this)}function Gl(){return new Sr(this.value(),this.__chain__)}function Yl(){if(this.__values__===i){this.__values__=Vc(this.value())}var e=this.__index__>=this.__values__.length,t=e?i:this.__values__[this.__index__++];return{done:e,value:t}}function Xl(){return this}function Ql(e){var t,n=this;while(n instanceof Cr){var r=Ro(n);r.__index__=0;r.__values__=i;if(t){a.__wrapped__=r}else{t=r}var a=r;n=n.__wrapped__}a.__wrapped__=e;return t}function es(){var e=this.__wrapped__;if(e instanceof Ar){var t=e;if(this.__actions__.length){t=new Ar(this)}t=t.reverse();t.__actions__.push({func:Kl,args:[pl],thisArg:i});return new Sr(t,this.__chain__)}return this.thru(pl)}function ts(){return Ta(this.__wrapped__,this.__actions__)}var ns=ou((function(e,t,n){if(ft.call(e,n)){++e[n]}else{pi(e,n,1)}}));function rs(e,t,n){var r=lc(e)?kn:Ei;if(n&&uo(e,t,n)){t=i}return r(e,Fu(t,3))}function is(e,t){var n=lc(e)?En:Ai;return n(e,Fu(t,3))}var as=_u(Vo);var us=_u(Ko);function os(e,t){return Ii(_s(e,t),1)}function ls(e,t){return Ii(_s(e,t),P)}function ss(e,t,n){n=n===i?1:Jc(n);return Ii(_s(e,t),n)}function cs(e,t){var n=lc(e)?wn:xi;return n(e,Fu(t,3))}function fs(e,t){var n=lc(e)?xn:ki;return n(e,Fu(t,3))}var hs=ou((function(e,t,n){if(ft.call(e,n)){e[n].push(t)}else{pi(e,n,[t])}}));function vs(e,t,n,r){e=cc(e)?e:qf(e);n=n&&!r?Jc(n):0;var i=e.length;if(n<0){n=Wt(i+n,0)}return Tc(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ln(e,t,n)>-1}var ps=ba((function(e,t,r){var i=-1,a=typeof t=="function",u=cc(e)?n(e.length):[];xi(e,(function(e){u[++i]=a?yn(t,e,r):Fi(e,t,r)}));return u}));var ds=ou((function(e,t,n){pi(e,n,t)}));function _s(e,t){var n=lc(e)?An:aa;return n(e,Fu(t,3))}function gs(e,t,n,r){if(e==null){return[]}if(!lc(t)){t=t==null?[]:[t]}n=r?i:n;if(!lc(n)){n=n==null?[]:[n]}return fa(e,t,n)}var ms=ou((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));function ys(e,t,n){var r=lc(e)?jn:Fn,i=arguments.length<3;return r(e,Fu(t,4),n,i,xi)}function bs(e,t,n){var r=lc(e)?Nn:Fn,i=arguments.length<3;return r(e,Fu(t,4),n,i,ki)}function ws(e,t){var n=lc(e)?En:Ai;return n(e,Bs(Fu(t,3)))}function xs(e){var t=lc(e)?ai:wa;return t(e)}function ks(e,t,n){if(n?uo(e,t,n):t===i){t=1}else{t=Jc(t)}var r=lc(e)?ui:xa;return r(e,t)}function Es(e){var t=lc(e)?oi:Sa;return t(e)}function Cs(e){if(e==null){return 0}if(cc(e)){return Tc(e)?dr(e):e.length}var t=Gu(e);if(t==X||t==ae){return e.size}return na(e).length}function Ss(e,t,n){var r=lc(e)?Dn:Ia;if(n&&uo(e,t,n)){t=i}return r(e,Fu(t,3))}var As=ba((function(e,t){if(e==null){return[]}var n=t.length;if(n>1&&uo(e,t[0],t[1])){t=[]}else if(n>2&&uo(t[0],t[1],t[2])){t=[t[0]]}return fa(e,Ii(t,1),[])}));var Is=Dt||function(){return on.Date.now()};function js(e,t){if(typeof t!="function"){throw new at(l)}e=Jc(e);return function(){if(--e<1){return t.apply(this,arguments)}}}function Ns(e,t,n){t=n?i:t;t=e&&t==null?e.length:t;return Nu(e,C,i,i,i,i,t)}function Ds(e,t){var n;if(typeof t!="function"){throw new at(l)}e=Jc(e);return function(){if(--e>0){n=t.apply(this,arguments)}if(e<=1){t=i}return n}}var Ms=ba((function(e,t,n){var r=m;if(n.length){var i=cr(n,qu(Ms));r|=k}return Nu(e,r,t,n,i)}));var Os=ba((function(e,t,n){var r=m|y;if(n.length){var i=cr(n,qu(Os));r|=k}return Nu(t,r,e,n,i)}));function Rs(e,t,n){t=n?i:t;var r=Nu(e,w,i,i,i,i,i,t);r.placeholder=Rs.placeholder;return r}function Ps(e,t,n){t=n?i:t;var r=Nu(e,x,i,i,i,i,i,t);r.placeholder=Ps.placeholder;return r}function zs(e,t,n){var r,a,u,o,s,c,f=0,h=false,v=false,p=true;if(typeof e!="function"){throw new at(l)}t=Gc(t)||0;if(Ec(n)){h=!!n.leading;v="maxWait"in n;u=v?Wt(Gc(n.maxWait)||0,t):u;p="trailing"in n?!!n.trailing:p}function d(t){var n=r,u=a;r=a=i;f=t;o=e.apply(u,n);return o}function _(e){f=e;s=Co(y,t);return h?d(e):o}function g(e){var n=e-c,r=e-f,i=t-n;return v?Bt(i,u-r):i}function m(e){var n=e-c,r=e-f;return c===i||n>=t||n<0||v&&r>=u}function y(){var e=Is();if(m(e)){return b(e)}s=Co(y,g(e))}function b(e){s=i;if(p&&r){return d(e)}r=a=i;return o}function w(){if(s!==i){Va(s)}f=0;r=c=a=s=i}function x(){return s===i?o:b(Is())}function k(){var e=Is(),n=m(e);r=arguments;a=this;c=e;if(n){if(s===i){return _(c)}if(v){Va(s);s=Co(y,t);return d(c)}}if(s===i){s=Co(y,t)}return o}k.cancel=w;k.flush=x;return k}var Ls=ba((function(e,t){return bi(e,1,t)}));var Ts=ba((function(e,t,n){return bi(e,Gc(t)||0,n)}));function $s(e){return Nu(e,A)}function Ws(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new at(l)}var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i)){return a.get(i)}var u=e.apply(this,r);n.cache=a.set(i,u)||a;return u};n.cache=new(Ws.Cache||Fr);return n}Ws.Cache=Fr;function Bs(e){if(typeof e!="function"){throw new at(l)}return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function qs(e){return Ds(2,e)}var Fs=Ua((function(e,t){t=t.length==1&&lc(t[0])?An(t[0],Zn(Fu())):An(Ii(t,1),Zn(Fu()));var n=t.length;return ba((function(r){var i=-1,a=Bt(r.length,n);while(++i<a){r[i]=t[i].call(this,r[i])}return yn(e,this,r)}))}));var Us=ba((function(e,t){var n=cr(t,qu(Us));return Nu(e,k,i,t,n)}));var Hs=ba((function(e,t){var n=cr(t,qu(Hs));return Nu(e,E,i,t,n)}));var Vs=Lu((function(e,t){return Nu(e,S,i,i,i,t)}));function Ks(e,t){if(typeof e!="function"){throw new at(l)}t=t===i?t:Jc(t);return ba(e,t)}function Js(e,t){if(typeof e!="function"){throw new at(l)}t=t==null?0:Wt(Jc(t),0);return ba((function(n){var r=n[t],i=Ha(n,0,t);if(r){In(i,r)}return yn(e,this,i)}))}function Zs(e,t,n){var r=true,i=true;if(typeof e!="function"){throw new at(l)}if(Ec(n)){r="leading"in n?!!n.leading:r;i="trailing"in n?!!n.trailing:i}return zs(e,t,{leading:r,maxWait:t,trailing:i})}function Gs(e){return Ns(e,1)}function Ys(e,t){return Us(qa(t),e)}function Xs(){if(!arguments.length){return[]}var e=arguments[0];return lc(e)?e:[e]}function Qs(e){return gi(e,d)}function ec(e,t){t=typeof t=="function"?t:i;return gi(e,d,t)}function tc(e){return gi(e,v|d)}function nc(e,t){t=typeof t=="function"?t:i;return gi(e,v|d,t)}function rc(e,t){return t==null||yi(e,t,kf(t))}function ic(e,t){return e===t||e!==e&&t!==t}var ac=Cu(Li);var uc=Cu((function(e,t){return e>=t}));var oc=Ui(function(){return arguments}())?Ui:function(e){return Cc(e)&&ft.call(e,"callee")&&!Et.call(e,"callee")};var lc=n.isArray;var sc=vn?Zn(vn):Hi;function cc(e){return e!=null&&kc(e.length)&&!wc(e)}function fc(e){return Cc(e)&&cc(e)}function hc(e){return e===true||e===false||Cc(e)&&zi(e)==V}var vc=zt||Zh;var pc=pn?Zn(pn):Vi;function dc(e){return Cc(e)&&e.nodeType===1&&!Rc(e)}function _c(e){if(e==null){return true}if(cc(e)&&(lc(e)||typeof e=="string"||typeof e.splice=="function"||vc(e)||Wc(e)||oc(e))){return!e.length}var t=Gu(e);if(t==X||t==ae){return!e.size}if(ho(e)){return!na(e).length}for(var n in e){if(ft.call(e,n)){return false}}return true}function gc(e,t){return Ki(e,t)}function mc(e,t,n){n=typeof n=="function"?n:i;var r=n?n(e,t):i;return r===i?Ki(e,t,i,n):!!r}function yc(e){if(!Cc(e)){return false}var t=zi(e);return t==Z||t==J||typeof e.message=="string"&&typeof e.name=="string"&&!Rc(e)}function bc(e){return typeof e=="number"&&Lt(e)}function wc(e){if(!Ec(e)){return false}var t=zi(e);return t==G||t==Y||t==H||t==re}function xc(e){return typeof e=="number"&&e==Jc(e)}function kc(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=z}function Ec(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Cc(e){return e!=null&&typeof e=="object"}var Sc=dn?Zn(dn):Zi;function Ac(e,t){return e===t||Gi(e,t,Hu(t))}function Ic(e,t,n){n=typeof n=="function"?n:i;return Gi(e,t,Hu(t),n)}function jc(e){return Oc(e)&&e!=+e}function Nc(e){if(fo(e)){throw new Te(o)}return Yi(e)}function Dc(e){return e===null}function Mc(e){return e==null}function Oc(e){return typeof e=="number"||Cc(e)&&zi(e)==Q}function Rc(e){if(!Cc(e)||zi(e)!=te){return false}var t=xt(e);if(t===null){return true}var n=ft.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ct.call(n)==dt}var Pc=_n?Zn(_n):Xi;function zc(e){return xc(e)&&e>=-z&&e<=z}var Lc=gn?Zn(gn):Qi;function Tc(e){return typeof e=="string"||!lc(e)&&Cc(e)&&zi(e)==ue}function $c(e){return typeof e=="symbol"||Cc(e)&&zi(e)==oe}var Wc=mn?Zn(mn):ea;function Bc(e){return e===i}function qc(e){return Cc(e)&&Gu(e)==se}function Fc(e){return Cc(e)&&zi(e)==ce}var Uc=Cu(ia);var Hc=Cu((function(e,t){return e<=t}));function Vc(e){if(!e){return[]}if(cc(e)){return Tc(e)?_r(e):ru(e)}if(At&&e[At]){return or(e[At]())}var t=Gu(e),n=t==X?lr:t==ae?fr:qf;return n(e)}function Kc(e){if(!e){return e===0?e:0}e=Gc(e);if(e===P||e===-P){var t=e<0?-1:1;return t*L}return e===e?e:0}function Jc(e){var t=Kc(e),n=t%1;return t===t?n?t-n:t:0}function Zc(e){return e?_i(Jc(e),0,$):0}function Gc(e){if(typeof e=="number"){return e}if($c(e)){return T}if(Ec(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ec(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=Jn(e);var n=Je.test(e);return n||Ge.test(e)?rn(e.slice(2),n?2:8):Ke.test(e)?T:+e}function Yc(e){return iu(e,Ef(e))}function Xc(e){return e?_i(Jc(e),-z,z):e===0?e:0}function Qc(e){return e==null?"":Oa(e)}var ef=lu((function(e,t){if(ho(t)||cc(t)){iu(t,kf(t),e);return}for(var n in t){if(ft.call(t,n)){si(e,n,t[n])}}}));var tf=lu((function(e,t){iu(t,Ef(t),e)}));var nf=lu((function(e,t,n,r){iu(t,Ef(t),e,r)}));var rf=lu((function(e,t,n,r){iu(t,kf(t),e,r)}));var af=Lu(di);function uf(e,t){var n=Er(e);return t==null?n:hi(n,t)}var of=ba((function(e,t){e=nt(e);var n=-1;var r=t.length;var a=r>2?t[2]:i;if(a&&uo(t[0],t[1],a)){r=1}while(++n<r){var u=t[n];var o=Ef(u);var l=-1;var s=o.length;while(++l<s){var c=o[l];var f=e[c];if(f===i||ic(f,lt[c])&&!ft.call(e,c)){e[c]=u[c]}}}return e}));var lf=ba((function(e){e.push(i,Mu);return yn(If,i,e)}));function sf(e,t){return Pn(e,Fu(t,3),Di)}function cf(e,t){return Pn(e,Fu(t,3),Mi)}function ff(e,t){return e==null?e:ji(e,Fu(t,3),Ef)}function hf(e,t){return e==null?e:Ni(e,Fu(t,3),Ef)}function vf(e,t){return e&&Di(e,Fu(t,3))}function pf(e,t){return e&&Mi(e,Fu(t,3))}function df(e){return e==null?[]:Oi(e,kf(e))}function _f(e){return e==null?[]:Oi(e,Ef(e))}function gf(e,t,n){var r=e==null?i:Ri(e,t);return r===i?n:r}function mf(e,t){return e!=null&&Qu(e,t,Ti)}function yf(e,t){return e!=null&&Qu(e,t,$i)}var bf=yu((function(e,t,n){if(t!=null&&typeof t.toString!="function"){t=pt.call(t)}e[t]=n}),Ah(Dh));var wf=yu((function(e,t,n){if(t!=null&&typeof t.toString!="function"){t=pt.call(t)}if(ft.call(e,t)){e[t].push(n)}else{e[t]=[n]}}),Fu);var xf=ba(Fi);function kf(e){return cc(e)?ii(e):na(e)}function Ef(e){return cc(e)?ii(e,true):ra(e)}function Cf(e,t){var n={};t=Fu(t,3);Di(e,(function(e,r,i){pi(n,t(e,r,i),e)}));return n}function Sf(e,t){var n={};t=Fu(t,3);Di(e,(function(e,r,i){pi(n,r,t(e,r,i))}));return n}var Af=lu((function(e,t,n){la(e,t,n)}));var If=lu((function(e,t,n,r){la(e,t,n,r)}));var jf=Lu((function(e,t){var n={};if(e==null){return n}var r=false;t=An(t,(function(t){t=Fa(t,e);r||(r=t.length>1);return t}));iu(e,$u(e),n);if(r){n=gi(n,v|p|d,Ou)}var i=t.length;while(i--){Pa(n,t[i])}return n}));function Nf(e,t){return Mf(e,Bs(Fu(t)))}var Df=Lu((function(e,t){return e==null?{}:ha(e,t)}));function Mf(e,t){if(e==null){return{}}var n=An($u(e),(function(e){return[e]}));t=Fu(t);return va(e,n,(function(e,n){return t(e,n[0])}))}function Of(e,t,n){t=Fa(t,e);var r=-1,a=t.length;if(!a){a=1;e=i}while(++r<a){var u=e==null?i:e[Do(t[r])];if(u===i){r=a;u=n}e=wc(u)?u.call(e):u}return e}function Rf(e,t,n){return e==null?e:ka(e,t,n)}function Pf(e,t,n,r){r=typeof r=="function"?r:i;return e==null?e:ka(e,t,n,r)}var zf=ju(kf);var Lf=ju(Ef);function Tf(e,t,n){var r=lc(e),i=r||vc(e)||Wc(e);t=Fu(t,4);if(n==null){var a=e&&e.constructor;if(i){n=r?new a:[]}else if(Ec(e)){n=wc(a)?Er(xt(e)):{}}else{n={}}}(i?wn:Di)(e,(function(e,r,i){return t(n,e,r,i)}));return n}function $f(e,t){return e==null?true:Pa(e,t)}function Wf(e,t,n){return e==null?e:za(e,t,qa(n))}function Bf(e,t,n,r){r=typeof r=="function"?r:i;return e==null?e:za(e,t,qa(n),r)}function qf(e){return e==null?[]:Gn(e,kf(e))}function Ff(e){return e==null?[]:Gn(e,Ef(e))}function Uf(e,t,n){if(n===i){n=t;t=i}if(n!==i){n=Gc(n);n=n===n?n:0}if(t!==i){t=Gc(t);t=t===t?t:0}return _i(Gc(e),t,n)}function Hf(e,t,n){t=Kc(t);if(n===i){n=t;t=0}else{n=Kc(n)}e=Gc(e);return Wi(e,t,n)}function Vf(e,t,n){if(n&&typeof n!="boolean"&&uo(e,t,n)){t=n=i}if(n===i){if(typeof t=="boolean"){n=t;t=i}else if(typeof e=="boolean"){n=e;e=i}}if(e===i&&t===i){e=0;t=1}else{e=Kc(e);if(t===i){t=e;e=0}else{t=Kc(t)}}if(e>t){var r=e;e=t;t=r}if(n||e%1||t%1){var a=Vt();return Bt(e+a*(t-e+nn("1e-"+((a+"").length-1))),t)}return ga(e,t)}var Kf=vu((function(e,t,n){t=t.toLowerCase();return e+(n?Jf(t):t)}));function Jf(e){return wh(Qc(e).toLowerCase())}function Zf(e){e=Qc(e);return e&&e.replace(Xe,tr).replace(Ft,"")}function Gf(e,t,n){e=Qc(e);t=Oa(t);var r=e.length;n=n===i?r:_i(Jc(n),0,r);var a=n;n-=t.length;return n>=0&&e.slice(n,a)==t}function Yf(e){e=Qc(e);return e&&Ie.test(e)?e.replace(Se,nr):e}function Xf(e){e=Qc(e);return e&&ze.test(e)?e.replace(Pe,"\\$&"):e}var Qf=vu((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));var eh=vu((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}));var th=hu("toLowerCase");function nh(e,t,n){e=Qc(e);t=Jc(t);var r=t?dr(e):0;if(!t||r>=t){return e}var i=(t-r)/2;return xu(Rt(i),n)+e+xu(Ot(i),n)}function rh(e,t,n){e=Qc(e);t=Jc(t);var r=t?dr(e):0;return t&&r<t?e+xu(t-r,n):e}function ih(e,t,n){e=Qc(e);t=Jc(t);var r=t?dr(e):0;return t&&r<t?xu(t-r,n)+e:e}function ah(e,t,n){if(n||t==null){t=0}else if(t){t=+t}return Ht(Qc(e).replace(Le,""),t||0)}function uh(e,t,n){if(n?uo(e,t,n):t===i){t=1}else{t=Jc(t)}return ya(Qc(e),t)}function oh(){var e=arguments,t=Qc(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var lh=vu((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));function sh(e,t,n){if(n&&typeof n!="number"&&uo(e,t,n)){t=n=i}n=n===i?$:n>>>0;if(!n){return[]}e=Qc(e);if(e&&(typeof t=="string"||t!=null&&!Pc(t))){t=Oa(t);if(!t&&ar(e)){return Ha(_r(e),0,n)}}return e.split(t,n)}var ch=vu((function(e,t,n){return e+(n?" ":"")+wh(t)}));function fh(e,t,n){e=Qc(e);n=n==null?0:_i(Jc(n),0,e.length);t=Oa(t);return e.slice(n,n+t.length)==t}function hh(e,t,n){var r=xr.templateSettings;if(n&&uo(e,t,n)){t=i}e=Qc(e);t=nf({},t,r,Du);var a=nf({},t.imports,r.imports,Du),u=kf(a),o=Gn(a,u);var l,c,f=0,h=t.interpolate||Qe,v="__p += '";var p=rt((t.escape||Qe).source+"|"+h.source+"|"+(h===De?He:Qe).source+"|"+(t.evaluate||Qe).source+"|$","g");var d="//# sourceURL="+(ft.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Zt+"]")+"\n";e.replace(p,(function(t,n,r,i,a,u){r||(r=i);v+=e.slice(f,u).replace(et,rr);if(n){l=true;v+="' +\n__e("+n+") +\n'"}if(a){c=true;v+="';\n"+a+";\n__p += '"}if(r){v+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"}f=u+t.length;return t}));v+="';\n";var _=ft.call(t,"variable")&&t.variable;if(!_){v="with (obj) {\n"+v+"\n}\n"}else if(Fe.test(_)){throw new Te(s)}v=(c?v.replace(xe,""):v).replace(ke,"$1").replace(Ee,"$1;");v="function("+(_||"obj")+") {\n"+(_?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(l?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\n"+"function print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var g=kh((function(){return qe(u,d+"return "+v).apply(i,o)}));g.source=v;if(yc(g)){throw g}return g}function vh(e){return Qc(e).toLowerCase()}function ph(e){return Qc(e).toUpperCase()}function dh(e,t,n){e=Qc(e);if(e&&(n||t===i)){return Jn(e)}if(!e||!(t=Oa(t))){return e}var r=_r(e),a=_r(t),u=Xn(r,a),o=Qn(r,a)+1;return Ha(r,u,o).join("")}function _h(e,t,n){e=Qc(e);if(e&&(n||t===i)){return e.slice(0,gr(e)+1)}if(!e||!(t=Oa(t))){return e}var r=_r(e),a=Qn(r,_r(t))+1;return Ha(r,0,a).join("")}function gh(e,t,n){e=Qc(e);if(e&&(n||t===i)){return e.replace(Le,"")}if(!e||!(t=Oa(t))){return e}var r=_r(e),a=Xn(r,_r(t));return Ha(r,a).join("")}function mh(e,t){var n=I,r=j;if(Ec(t)){var a="separator"in t?t.separator:a;n="length"in t?Jc(t.length):n;r="omission"in t?Oa(t.omission):r}e=Qc(e);var u=e.length;if(ar(e)){var o=_r(e);u=o.length}if(n>=u){return e}var l=n-dr(r);if(l<1){return r}var s=o?Ha(o,0,l).join(""):e.slice(0,l);if(a===i){return s+r}if(o){l+=s.length-l}if(Pc(a)){if(e.slice(l).search(a)){var c,f=s;if(!a.global){a=rt(a.source,Qc(Ve.exec(a))+"g")}a.lastIndex=0;while(c=a.exec(f)){var h=c.index}s=s.slice(0,h===i?l:h)}}else if(e.indexOf(Oa(a),l)!=l){var v=s.lastIndexOf(a);if(v>-1){s=s.slice(0,v)}}return s+r}function yh(e){e=Qc(e);return e&&Ae.test(e)?e.replace(Ce,mr):e}var bh=vu((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}));var wh=hu("toUpperCase");function xh(e,t,n){e=Qc(e);t=n?i:t;if(t===i){return ur(e)?wr(e):Rn(e)}return e.match(t)||[]}var kh=ba((function(e,t){try{return yn(e,i,t)}catch(n){return yc(n)?n:new Te(n)}}));var Eh=Lu((function(e,t){wn(t,(function(t){t=Do(t);pi(e,t,Ms(e[t],e))}));return e}));function Ch(e){var t=e==null?0:e.length,n=Fu();e=!t?[]:An(e,(function(e){if(typeof e[1]!="function"){throw new at(l)}return[n(e[0]),e[1]]}));return ba((function(n){var r=-1;while(++r<t){var i=e[r];if(yn(i[0],this,n)){return yn(i[1],this,n)}}}))}function Sh(e){return mi(gi(e,v))}function Ah(e){return function(){return e}}function Ih(e,t){return e==null||e!==e?t:e}var jh=gu();var Nh=gu(true);function Dh(e){return e}function Mh(e){return ta(typeof e=="function"?e:gi(e,v))}function Oh(e){return ua(gi(e,v))}function Rh(e,t){return oa(e,gi(t,v))}var Ph=ba((function(e,t){return function(n){return Fi(n,e,t)}}));var zh=ba((function(e,t){return function(n){return Fi(e,n,t)}}));function Lh(e,t,n){var r=kf(t),i=Oi(t,r);if(n==null&&!(Ec(t)&&(i.length||!r.length))){n=t;t=e;e=this;i=Oi(t,kf(t))}var a=!(Ec(n)&&"chain"in n)||!!n.chain,u=wc(e);wn(i,(function(n){var r=t[n];e[n]=r;if(u){e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=ru(this.__actions__);i.push({func:r,args:arguments,thisArg:e});n.__chain__=t;return n}return r.apply(e,In([this.value()],arguments))}}}));return e}function Th(){if(on._===this){on._=_t}return this}function $h(){}function Wh(e){e=Jc(e);return ba((function(t){return ca(t,e)}))}var Bh=wu(An);var qh=wu(kn);var Fh=wu(Dn);function Uh(e){return oo(e)?Bn(Do(e)):pa(e)}function Hh(e){return function(t){return e==null?i:Ri(e,t)}}var Vh=Eu();var Kh=Eu(true);function Jh(){return[]}function Zh(){return false}function Gh(){return{}}function Yh(){return""}function Xh(){return true}function Qh(e,t){e=Jc(e);if(e<1||e>z){return[]}var n=$,r=Bt(e,$);t=Fu(t);e-=$;var i=Vn(r,t);while(++n<e){t(n)}return i}function ev(e){if(lc(e)){return An(e,Do)}return $c(e)?[e]:ru(No(Qc(e)))}function tv(e){var t=++ht;return Qc(e)+t}var nv=bu((function(e,t){return e+t}),0);var rv=Au("ceil");var iv=bu((function(e,t){return e/t}),1);var av=Au("floor");function uv(e){return e&&e.length?Ci(e,Dh,Li):i}function ov(e,t){return e&&e.length?Ci(e,Fu(t,2),Li):i}function lv(e){return Wn(e,Dh)}function sv(e,t){return Wn(e,Fu(t,2))}function cv(e){return e&&e.length?Ci(e,Dh,ia):i}function fv(e,t){return e&&e.length?Ci(e,Fu(t,2),ia):i}var hv=bu((function(e,t){return e*t}),1);var vv=Au("round");var pv=bu((function(e,t){return e-t}),0);function dv(e){return e&&e.length?Hn(e,Dh):0}function _v(e,t){return e&&e.length?Hn(e,Fu(t,2)):0}xr.after=js;xr.ary=Ns;xr.assign=ef;xr.assignIn=tf;xr.assignInWith=nf;xr.assignWith=rf;xr.at=af;xr.before=Ds;xr.bind=Ms;xr.bindAll=Eh;xr.bindKey=Os;xr.castArray=Xs;xr.chain=Hl;xr.chunk=Po;xr.compact=zo;xr.concat=Lo;xr.cond=Ch;xr.conforms=Sh;xr.constant=Ah;xr.countBy=ns;xr.create=uf;xr.curry=Rs;xr.curryRight=Ps;xr.debounce=zs;xr.defaults=of;xr.defaultsDeep=lf;xr.defer=Ls;xr.delay=Ts;xr.difference=To;xr.differenceBy=$o;xr.differenceWith=Wo;xr.drop=Bo;xr.dropRight=qo;xr.dropRightWhile=Fo;xr.dropWhile=Uo;xr.fill=Ho;xr.filter=is;xr.flatMap=os;xr.flatMapDeep=ls;xr.flatMapDepth=ss;xr.flatten=Jo;xr.flattenDeep=Zo;xr.flattenDepth=Go;xr.flip=$s;xr.flow=jh;xr.flowRight=Nh;xr.fromPairs=Yo;xr.functions=df;xr.functionsIn=_f;xr.groupBy=hs;xr.initial=el;xr.intersection=tl;xr.intersectionBy=nl;xr.intersectionWith=rl;xr.invert=bf;xr.invertBy=wf;xr.invokeMap=ps;xr.iteratee=Mh;xr.keyBy=ds;xr.keys=kf;xr.keysIn=Ef;xr.map=_s;xr.mapKeys=Cf;xr.mapValues=Sf;xr.matches=Oh;xr.matchesProperty=Rh;xr.memoize=Ws;xr.merge=Af;xr.mergeWith=If;xr.method=Ph;xr.methodOf=zh;xr.mixin=Lh;xr.negate=Bs;xr.nthArg=Wh;xr.omit=jf;xr.omitBy=Nf;xr.once=qs;xr.orderBy=gs;xr.over=Bh;xr.overArgs=Fs;xr.overEvery=qh;xr.overSome=Fh;xr.partial=Us;xr.partialRight=Hs;xr.partition=ms;xr.pick=Df;xr.pickBy=Mf;xr.property=Uh;xr.propertyOf=Hh;xr.pull=ll;xr.pullAll=sl;xr.pullAllBy=cl;xr.pullAllWith=fl;xr.pullAt=hl;xr.range=Vh;xr.rangeRight=Kh;xr.rearg=Vs;xr.reject=ws;xr.remove=vl;xr.rest=Ks;xr.reverse=pl;xr.sampleSize=ks;xr.set=Rf;xr.setWith=Pf;xr.shuffle=Es;xr.slice=dl;xr.sortBy=As;xr.sortedUniq=xl;xr.sortedUniqBy=kl;xr.split=sh;xr.spread=Js;xr.tail=El;xr.take=Cl;xr.takeRight=Sl;xr.takeRightWhile=Al;xr.takeWhile=Il;xr.tap=Vl;xr.throttle=Zs;xr.thru=Kl;xr.toArray=Vc;xr.toPairs=zf;xr.toPairsIn=Lf;xr.toPath=ev;xr.toPlainObject=Yc;xr.transform=Tf;xr.unary=Gs;xr.union=jl;xr.unionBy=Nl;xr.unionWith=Dl;xr.uniq=Ml;xr.uniqBy=Ol;xr.uniqWith=Rl;xr.unset=$f;xr.unzip=Pl;xr.unzipWith=zl;xr.update=Wf;xr.updateWith=Bf;xr.values=qf;xr.valuesIn=Ff;xr.without=Ll;xr.words=xh;xr.wrap=Ys;xr.xor=Tl;xr.xorBy=$l;xr.xorWith=Wl;xr.zip=Bl;xr.zipObject=ql;xr.zipObjectDeep=Fl;xr.zipWith=Ul;xr.entries=zf;xr.entriesIn=Lf;xr.extend=tf;xr.extendWith=nf;Lh(xr,xr);xr.add=nv;xr.attempt=kh;xr.camelCase=Kf;xr.capitalize=Jf;xr.ceil=rv;xr.clamp=Uf;xr.clone=Qs;xr.cloneDeep=tc;xr.cloneDeepWith=nc;xr.cloneWith=ec;xr.conformsTo=rc;xr.deburr=Zf;xr.defaultTo=Ih;xr.divide=iv;xr.endsWith=Gf;xr.eq=ic;xr.escape=Yf;xr.escapeRegExp=Xf;xr.every=rs;xr.find=as;xr.findIndex=Vo;xr.findKey=sf;xr.findLast=us;xr.findLastIndex=Ko;xr.findLastKey=cf;xr.floor=av;xr.forEach=cs;xr.forEachRight=fs;xr.forIn=ff;xr.forInRight=hf;xr.forOwn=vf;xr.forOwnRight=pf;xr.get=gf;xr.gt=ac;xr.gte=uc;xr.has=mf;xr.hasIn=yf;xr.head=Xo;xr.identity=Dh;xr.includes=vs;xr.indexOf=Qo;xr.inRange=Hf;xr.invoke=xf;xr.isArguments=oc;xr.isArray=lc;xr.isArrayBuffer=sc;xr.isArrayLike=cc;xr.isArrayLikeObject=fc;xr.isBoolean=hc;xr.isBuffer=vc;xr.isDate=pc;xr.isElement=dc;xr.isEmpty=_c;xr.isEqual=gc;xr.isEqualWith=mc;xr.isError=yc;xr.isFinite=bc;xr.isFunction=wc;xr.isInteger=xc;xr.isLength=kc;xr.isMap=Sc;xr.isMatch=Ac;xr.isMatchWith=Ic;xr.isNaN=jc;xr.isNative=Nc;xr.isNil=Mc;xr.isNull=Dc;xr.isNumber=Oc;xr.isObject=Ec;xr.isObjectLike=Cc;xr.isPlainObject=Rc;xr.isRegExp=Pc;xr.isSafeInteger=zc;xr.isSet=Lc;xr.isString=Tc;xr.isSymbol=$c;xr.isTypedArray=Wc;xr.isUndefined=Bc;xr.isWeakMap=qc;xr.isWeakSet=Fc;xr.join=il;xr.kebabCase=Qf;xr.last=al;xr.lastIndexOf=ul;xr.lowerCase=eh;xr.lowerFirst=th;xr.lt=Uc;xr.lte=Hc;xr.max=uv;xr.maxBy=ov;xr.mean=lv;xr.meanBy=sv;xr.min=cv;xr.minBy=fv;xr.stubArray=Jh;xr.stubFalse=Zh;xr.stubObject=Gh;xr.stubString=Yh;xr.stubTrue=Xh;xr.multiply=hv;xr.nth=ol;xr.noConflict=Th;xr.noop=$h;xr.now=Is;xr.pad=nh;xr.padEnd=rh;xr.padStart=ih;xr.parseInt=ah;xr.random=Vf;xr.reduce=ys;xr.reduceRight=bs;xr.repeat=uh;xr.replace=oh;xr.result=Of;xr.round=vv;xr.runInContext=e;xr.sample=xs;xr.size=Cs;xr.snakeCase=lh;xr.some=Ss;xr.sortedIndex=_l;xr.sortedIndexBy=gl;xr.sortedIndexOf=ml;xr.sortedLastIndex=yl;xr.sortedLastIndexBy=bl;xr.sortedLastIndexOf=wl;xr.startCase=ch;xr.startsWith=fh;xr.subtract=pv;xr.sum=dv;xr.sumBy=_v;xr.template=hh;xr.times=Qh;xr.toFinite=Kc;xr.toInteger=Jc;xr.toLength=Zc;xr.toLower=vh;xr.toNumber=Gc;xr.toSafeInteger=Xc;xr.toString=Qc;xr.toUpper=ph;xr.trim=dh;xr.trimEnd=_h;xr.trimStart=gh;xr.truncate=mh;xr.unescape=yh;xr.uniqueId=tv;xr.upperCase=bh;xr.upperFirst=wh;xr.each=cs;xr.eachRight=fs;xr.first=Xo;Lh(xr,function(){var e={};Di(xr,(function(t,n){if(!ft.call(xr.prototype,n)){e[n]=t}}));return e}(),{chain:false});xr.VERSION=a;wn(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){xr[e].placeholder=xr}));wn(["drop","take"],(function(e,t){Ar.prototype[e]=function(n){n=n===i?1:Wt(Jc(n),0);var r=this.__filtered__&&!t?new Ar(this):this.clone();if(r.__filtered__){r.__takeCount__=Bt(n,r.__takeCount__)}else{r.__views__.push({size:Bt(n,$),type:e+(r.__dir__<0?"Right":"")})}return r};Ar.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}));wn(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n==M||n==R;Ar.prototype[e]=function(e){var t=this.clone();t.__iteratees__.push({iteratee:Fu(e,3),type:n});t.__filtered__=t.__filtered__||r;return t}}));wn(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Ar.prototype[e]=function(){return this[n](1).value()[0]}}));wn(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Ar.prototype[e]=function(){return this.__filtered__?new Ar(this):this[n](1)}}));Ar.prototype.compact=function(){return this.filter(Dh)};Ar.prototype.find=function(e){return this.filter(e).head()};Ar.prototype.findLast=function(e){return this.reverse().find(e)};Ar.prototype.invokeMap=ba((function(e,t){if(typeof e=="function"){return new Ar(this)}return this.map((function(n){return Fi(n,e,t)}))}));Ar.prototype.reject=function(e){return this.filter(Bs(Fu(e)))};Ar.prototype.slice=function(e,t){e=Jc(e);var n=this;if(n.__filtered__&&(e>0||t<0)){return new Ar(n)}if(e<0){n=n.takeRight(-e)}else if(e){n=n.drop(e)}if(t!==i){t=Jc(t);n=t<0?n.dropRight(-t):n.take(t-e)}return n};Ar.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};Ar.prototype.toArray=function(){return this.take($)};Di(Ar.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=xr[r?"take"+(t=="last"?"Right":""):t],u=r||/^find/.test(t);if(!a){return}xr.prototype[t]=function(){var t=this.__wrapped__,o=r?[1]:arguments,l=t instanceof Ar,s=o[0],c=l||lc(t);var f=function(e){var t=a.apply(xr,In([e],o));return r&&h?t[0]:t};if(c&&n&&typeof s=="function"&&s.length!=1){l=c=false}var h=this.__chain__,v=!!this.__actions__.length,p=u&&!h,d=l&&!v;if(!u&&c){t=d?t:new Ar(this);var _=e.apply(t,o);_.__actions__.push({func:Kl,args:[f],thisArg:i});return new Sr(_,h)}if(p&&d){return e.apply(this,o)}_=this.thru(f);return p?r?_.value()[0]:_.value():_}}));wn(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ut[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);xr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(lc(i)?i:[],e)}return this[n]((function(n){return t.apply(lc(n)?n:[],e)}))}}));Di(Ar.prototype,(function(e,t){var n=xr[t];if(n){var r=n.name+"";if(!ft.call(sn,r)){sn[r]=[]}sn[r].push({name:t,func:n})}}));sn[mu(i,y).name]=[{name:"wrapper",func:i}];Ar.prototype.clone=Ir;Ar.prototype.reverse=jr;Ar.prototype.value=Nr;xr.prototype.at=Jl;xr.prototype.chain=Zl;xr.prototype.commit=Gl;xr.prototype.next=Yl;xr.prototype.plant=Ql;xr.prototype.reverse=es;xr.prototype.toJSON=xr.prototype.valueOf=xr.prototype.value=ts;xr.prototype.first=xr.prototype.head;if(At){xr.prototype[At]=Xl}return xr};var kr=xr();if(true){on._=kr;!(r=function(){return kr}.call(t,n,t,e),r!==i&&(e.exports=r))}else{}}).call(this)},52963:(e,t,n)=>{"use strict";n.r(t);n.d(t,{CustomDbxExtension:()=>be,default:()=>xe});var r=n(58578);var i=n(11135);const a="[__DBX__]";function u(e,t,n,r){return new Promise(((i,u)=>{const o=e=>{const t=e.header.msg_type;switch(t){case"execute_result":case"display_data":case"update_display_data":case"status":case"stream":{var o=e.content;const t=o.text.toLocaleString();t.trim().split("\n").forEach((e=>{if(e.startsWith(a)){const t=JSON.parse(e.slice(a.length));console.debug("control",t);if(r!=null){r(t)}if(t.status=="completed"){i(t)}}else{console.debug(e);if(n!=null){n(e)}}}))}break;case"error":{console.debug(e);u(e)}break;case"execute_input":break;default:{console.warn("Unknown type of message",e)}}};var l=e.requestExecute({code:t});l.onIOPub=o}))}function o(e){const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");const n=new RegExp(t,"g");return e.replace(n,"")}function l(e){console.error(`${e.ename}: ${e.evalue}`);console.error(e.traceback.map(o).join("\n"))}function s(e,t){i.INotification.update({toastId:e,message:t,type:"error",buttons:[{label:"Close",callback:()=>{i.INotification.dismiss(e)}}]})}var c=n(77865);var f=n.n(c);var h=n(66884);var v=n.n(h);class p{constructor(e){this._context=e;if(this._context.model.metadata.get("dbx_ml")==null){this._context.model.metadata.set("dbx_ml",{pip_installed_packages:{}});this._context.save()}}updateDbxMetadata(e,t){var n=this.getDbxMetadata();n[e]=t;this._context.model.metadata.set("dbx_ml",n);this._context.save()}getDbxMetadata(){return this._context.model.metadata.get("dbx_ml")}updatevenvDir(e){this.updateDbxMetadata("venv_dir",e)}getvenvdir(){return this.getDbxMetadata()["venv_dir"]||""}updateInstalledPackages(e){var t=this.getDbxMetadata()["pip_installed_packages"];var n=t[this.getPythonVersion()]||[];n.push(...e);var r=[...new Set(n)];this._context.model.metadata.set("dbx_ml",{pip_installed_packages:{[this.getPythonVersion()]:r}});this._context.save()}getInstalledPackages(){var e=[];var t=this.getDbxMetadata()["pip_installed_packages"]||{};if(this.getPythonVersion()in t){e=t[this.getPythonVersion()]}return e}updateSparkSessionSettings(e){this.updateDbxMetadata("dbx_spark_settings",e)}getSparkSessionSettings(){return this.getDbxMetadata()["dbx_spark_settings"]||{}}getKernelName(){return this._context.sessionContext.kernelDisplayName}getPythonVersion(){return"python38"}}class d extends c.Component{constructor(e){var t,n,r,i,a,u,o,l,s,f,h,v,d,_,g;super(e);this.selectRef=c.createRef();this._handleChange=e=>{const t=e.target.name;const n=e.target.value;switch(t){case"heraclesCluster":this.setState({heraclesCluster:n});break;case"heraclesApp":this.setState({heraclesApp:n});break;case"driverMemory":this.setState({driverMemory:n});break;case"driverCores":this.setState({driverCores:n});break;case"executorMemory":this.setState({executorMemory:n});break;case"executorCores":this.setState({executorCores:n});break;case"numExecutors":this.setState({numExecutors:n});break}};this._selectChanged=(e,t)=>{this.setState({hiveDbSelected:e?e:[]})};this._checkChanged=e=>{const t=e.target.name;const n=e.target.checked;switch(t){case"showAdvanced":this.setState({showAdvanced:n});break;case"enableArrowExecution":this.setState({enableArrowExecution:n});break;case"verifyPartitions":this.setState({verifyPartitions:n});break;case"readAccessClogger":this.setState({readAccessClogger:n});break;case"readAccessEvents":this.setState({readAccessEvents:n});break;case"readAccessEventsStaging":this.setState({readAccessEventsStaging:n});break;case"readAccessDummy":this.setState({readAccessDummy:n});break}};this._prependNewCellsWithSparkMagicChanged=e=>{const t=e.target.checked;this.setState({prependNewCellsWithSparkMagic:t});var n=this.nbMetadata.getSparkSessionSettings();n.prepend_new_cells_with_spark_magic=t;this.nbMetadata.updateSparkSessionSettings(n)};this.nbMetadata=new p(e.nbContext);this.sessionContext=e.sessionContext;const m=this.nbMetadata.getSparkSessionSettings();this.state={isLoading:false,hiveDbOptions:[],hiveDbSelected:(t=m.selected_databases)!==null&&t!==void 0?t:[],showAdvanced:false,heraclesCluster:(n=m.heracles_cluster)!==null&&n!==void 0?n:["prod0","prod1"][Math.floor(Math.random()*2)],heraclesApp:(r=m.heracles_app)!==null&&r!==void 0?r:"ignite_baseapp_py3",driverMemory:(i=m.driver_memory)!==null&&i!==void 0?i:"16G",driverCores:(a=m.driver_cores)!==null&&a!==void 0?a:"4",executorMemory:(u=m.executor_memory)!==null&&u!==void 0?u:"4G",executorCores:(o=m.executor_cores)!==null&&o!==void 0?o:"2",numExecutors:(l=m.num_executors)!==null&&l!==void 0?l:"8",enableArrowExecution:(s=m.enable_arrow_execution)!==null&&s!==void 0?s:true,verifyPartitions:(f=m.verify_partitions)!==null&&f!==void 0?f:false,readAccessClogger:(h=m.read_access_clogger)!==null&&h!==void 0?h:true,readAccessEvents:(v=m.read_access_events)!==null&&v!==void 0?v:true,readAccessEventsStaging:(d=m.read_access_events_staging)!==null&&d!==void 0?d:false,readAccessDummy:(_=m.read_access_dummy)!==null&&_!==void 0?_:false,prependNewCellsWithSparkMagic:(g=m.prepend_new_cells_with_spark_magic)!==null&&g!==void 0?g:true}}static saveStateAsNotebookMetadata(e,t){t.updateSparkSessionSettings({selected_databases:e.hiveDbSelected,heracles_cluster:e.heraclesCluster,heracles_app:e.heraclesApp,driver_memory:e.driverMemory,driver_cores:e.driverCores,executor_memory:e.executorMemory,executor_cores:e.executorCores,num_executors:e.numExecutors,enable_arrow_execution:e.enableArrowExecution,verify_partitions:e.verifyPartitions,read_access_clogger:e.readAccessClogger,read_access_events:e.readAccessEvents,read_access_events_staging:e.readAccessEventsStaging,read_access_dummy:e.readAccessDummy,prepend_new_cells_with_spark_magic:e.prependNewCellsWithSparkMagic})}componentDidMount(){this._loadHiveDatabaseList()}_loadHiveDatabaseList(){this.setState({isLoading:true});u(this.sessionContext.session.kernel,`from dropbox.ml_platform.jupyterhub.kernels.resources.hive_connector_utils import get_hive_database_list_for_current_user\nget_hive_database_list_for_current_user()`).then((e=>{this.setState({hiveDbOptions:e.databases.map((e=>({value:e.value,label:e.label}))),isLoading:false})})).catch((e=>{this.setState({isLoading:false});console.error("Failed to get Hive database list");l(e.content)}))}render(){return c.createElement(h.NonceProvider,{nonce:""},c.createElement(v(),{isMulti:true,isLoading:this.state.isLoading,placeholder:"Choose databases to connect to...",options:this.state.hiveDbOptions,value:this.state.hiveDbSelected,className:"hive-database-select",classNamePrefix:"select",onChange:this._selectChanged,ref:this.selectRef,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"bottom",menuShouldScrollIntoView:false,styles:{menuPortal:e=>({...e,zIndex:99999})}}),c.createElement("label",{className:"hive-advanced-settings-checkbox"},c.createElement("input",{name:"showAdvanced",type:"checkbox",checked:this.state.showAdvanced,onChange:this._checkChanged})," Show advanced settings"),this.state.showAdvanced&&c.createElement("div",{className:"hive-advanced-settings-container"},c.createElement("div",{className:"hive-advanced-settings-grid"},c.createElement("div",{className:"hive-advanced-settings-group"},c.createElement("h4",null,"Heracles settings"),c.createElement("label",null,"Heracles cluster")," ",c.createElement("input",{type:"text",className:"form-control",name:"heraclesCluster",value:this.state.heraclesCluster,onChange:this._handleChange}),c.createElement("label",null,"Heracles app")," ",c.createElement("input",{type:"text",className:"form-control",name:"heraclesApp",value:this.state.heraclesApp,onChange:this._handleChange})),c.createElement("div",{className:"hive-advanced-settings-group"},c.createElement("h4",null,"Driver settings"),c.createElement("label",null,"Driver memory")," ",c.createElement("input",{type:"text",className:"form-control",name:"driverMemory",value:this.state.driverMemory,onChange:this._handleChange}),c.createElement("label",null,"Driver cores")," ",c.createElement("input",{type:"number",className:"form-control",name:"driverCores",value:this.state.driverCores,onChange:this._handleChange})),c.createElement("div",{className:"hive-advanced-settings-group"},c.createElement("h4",null,"Executor settings"),c.createElement("label",null,"Executor memory")," ",c.createElement("input",{type:"text",className:"form-control",name:"executorMemory",value:this.state.executorMemory,onChange:this._handleChange}),c.createElement("label",null,"Executor cores")," ",c.createElement("input",{type:"number",className:"form-control",name:"executorCores",value:this.state.executorCores,onChange:this._handleChange}),c.createElement("label",null,"Number of executors")," ",c.createElement("input",{type:"number",className:"form-control",name:"numExecutors",value:this.state.numExecutors,onChange:this._handleChange}))),c.createElement("label",null,c.createElement("input",{name:"enableArrowExecution",type:"checkbox",checked:this.state.enableArrowExecution,onChange:this._checkChanged})," Enable PyArrow execution (e.g. speeds up ",c.createElement("code",null,"toPandas")," conversions)"),c.createElement("br",null),c.createElement("label",null,c.createElement("input",{name:"verifyPartitions",type:"checkbox",checked:this.state.verifyPartitions,onChange:this._checkChanged})," Verify partitions (significantly slows down queries, but required for some cLogger-backed tables)"),c.createElement("br",null),c.createElement("label",null,c.createElement("input",{name:"readAccessClogger",type:"checkbox",checked:this.state.readAccessClogger,onChange:this._checkChanged})," Request read access to ",c.createElement("code",null,"restricted_raw_clogger")," and ",c.createElement("code",null,"restricted_raw_clogger_kafka_connect")),c.createElement("br",null),c.createElement("label",null,c.createElement("input",{name:"readAccessEvents",type:"checkbox",checked:this.state.readAccessEvents,onChange:this._checkChanged})," Request read access to ",c.createElement("code",null,"restricted_raw_events")),c.createElement("br",null),c.createElement("label",null,c.createElement("input",{name:"readAccessEventsStaging",type:"checkbox",checked:this.state.readAccessEventsStaging,onChange:this._checkChanged})," Request read access to ",c.createElement("code",null,"restricted_raw_events_staging")),c.createElement("br",null),c.createElement("label",null,c.createElement("input",{name:"readAccessDummy",type:"checkbox",checked:this.state.readAccessDummy,onChange:this._checkChanged})," Request read access to Hive ",c.createElement("code",null,"_dummy_table")),c.createElement("br",null),c.createElement("label",null,c.createElement("input",{name:"prependNewCellsWithSparkMagic",type:"checkbox",checked:this.state.prependNewCellsWithSparkMagic,onChange:this._prependNewCellsWithSparkMagicChanged})," Prepend new cells with ",c.createElement("code",null,"%%spark")," (saved instantly)")),this.state.hiveDbSelected.length>0&&c.createElement(c.Fragment,null,c.createElement("p",null,'When you click "Connect", your settings will be saved and an interactive PySpark session will be created for you in Heracles. If you previously created a session in this notebook, it will be cleaned up.'),this.state.hiveDbSelected.length>3&&c.createElement(c.Fragment,null,c.createElement("br",null),c.createElement("div",{className:"alert alert-warning",role:"alert"},c.createElement("strong",null,"Warning: Due to AWS limitations, your session can only access a limited number of Hive databases at once."),c.createElement("br",null),"If you have errors when creating your session, try decreasing the number of databases you want it to access. You can also try removing some default namespaces from the advanced settings, but this might cause queries to tables that are backed by those namespaces to fail."))))}}var _=n(89798);const g="jp-OfflineNotebookToolbarIcon";function m(e,t,n){y(e,t);return b(e,t,n)}function y(e,t){t.model.cells.changed.connect(((n,r)=>{if(new p(t).getSparkSessionSettings()["prepend_new_cells_with_spark_magic"]){if(r.type=="add"){r.newValues.forEach((t=>{if(t.type=="code"){e.content.widgets[r.newIndex].inputArea.model.value.text="%%spark"}}))}}}))}function b(e,t,n){return new _.ToolbarButton({className:n,label:"Connect to Spark Session",iconClass:"fas fa-database "+g,onClick:()=>{C(e.sessionContext,t).then(x.bind(null,e.sessionContext,t)).catch((e=>{console.error(e)}))}})}function w(e,t){const n=e.hiveDbSelected.map((e=>e.value));const r=new p(t).getInstalledPackages();return`from dropbox.ml_platform.jupyterhub.kernels.resources.hive_connector_utils import override_sparkmagic_conf\noverride_sparkmagic_conf({\n    "cluster": "${e.heraclesCluster}",\n    "heracles_app": "${e.heraclesApp}",\n    "driver_memory": "${e.driverMemory}",\n    "driver_cores": ${e.driverCores},\n    "executor_memory": "${e.executorMemory}",\n    "executor_cores": ${e.executorCores},\n    "num_executors": ${e.numExecutors},\n    "hive_databases": ${JSON.stringify(n)},\n    "enable_arrow_execution": ${e.enableArrowExecution?"True":"False"},\n    "verify_partitions": ${e.verifyPartitions?"True":"False"},\n    "read_access_clogger": ${e.readAccessClogger?"True":"False"},\n    "read_access_events": ${e.readAccessEvents?"True":"False"},\n    "read_access_events_staging": ${e.readAccessEventsStaging?"True":"False"},\n    "read_access_dummy": ${e.readAccessDummy?"True":"False"},\n    "packages": ${JSON.stringify(r)},\n    })`}function x(e,t,n){return i.INotification.inProgress("Connecting to Spark...!",{}).then((r=>{u(e.session.kernel,w(n,t)).then((t=>{i.INotification.update({toastId:r,message:"Connecting to Spark..."});return u(e.session.kernel,`from dropbox.ml_platform.jupyterhub.kernels.resources.hive_connector_utils import connect_to_hive\nconnect_to_hive()`)})).then((e=>{i.INotification.update({toastId:r,message:"Connected to Spark",autoClose:5e3,type:"success"});console.log(e)})).catch((e=>{s(r,"Connection to Spark Failed ");l(e.content)}))}))}function k(e,t,n){const r=c.createElement("div",{className:"hive-connect-form"},c.createElement("form",null,c.createElement("p",null,"By choosing Hive databases from the below list, you will be able to run live Hive queries to read from these databases in the current notebook. However, you have read/write access to databases under your own namespace, i.e. ",c.createElement("code",null,"username")," and ",c.createElement("code",null,"restricted_username"),"."),c.createElement("br",null),c.createElement("p",null,"Simply preface a notebook cell with ",c.createElement("code",null,"%%spark")," to run pyspark code, or ",c.createElement("code",null,"%%spark -c sql")," to run a SQL query directly. You can find a more comprehensive walkthrough guide ",c.createElement("a",{href:"https://jupyterhub.pp.dropbox.com/user/_/notebooks/users/aleksander/Hive%20Connector%20Guide.ipynb"},"here"),"."),c.createElement("br",null),c.createElement("p",null,"This tool is mainly meant for data exploration and small-scale prototyping. For larger-scale non-interactive queries, use ",c.createElement("a",{href:"https://www.dropbox.com/scl/fi/pm82gzzrqopbnf213lfqu/JupyterHub-environment.paper?dl=0&rlkey=hzrg0rb0yf93hlbewjwv8by7c#:uid=082866284532065405821117&h2=Hive-data-access-:yellow_dot:",target:"_blank",rel:"noreferrer"},c.createElement("code",null,"import_hive_data_to_hdfs")),"."),c.createElement("br",null),c.createElement("p",null,c.createElement("em",null,"Note: This feature launched recently! Please feel free to give feedback to ",c.createElement("code",null,"#ml-platform")," on Slack :)")),c.createElement(d,{ref:e,sessionContext:t,nbContext:n})));return r}class E extends _.ReactWidget{constructor(e,t,n){super();this._connector_ref=e;this._sessionContext=t;this._nbContext=n}render(){return k(this._connector_ref,this._sessionContext,this._nbContext)}getValue(){return this._connector_ref.current.state}}function C(e,t){return new Promise(((n,r)=>{const i=c.createRef();const a="Connect";const u="Cancel";var o=new _.Dialog({title:"Connect to Hive Databases",body:new E(i,e,t),buttons:[_.Dialog.cancelButton({label:u}),_.Dialog.okButton({accept:true,label:a})]});o.launch().then((e=>{console.log(e);if(e.button.label==a){d.saveStateAsNotebookMetadata(e.value,new p(t));n(e.value);return true}else if(e.button.label==u){r("dialog dismissed")}else{r("no reference to Hive connector");return false}}))}))}var S=n(96486);var A=n.n(S);const I=e=>c.createElement("input",Object.assign({type:"checkbox"},e));function j(e){return`${e[0]}==${e[1]}`}function N(e){const[t,n]=e.split("==");return[t,n]}function D(e,t,n){return c.createElement("div",null,c.createElement("span",{className:"pkg-name"},e[0])," ",c.createElement("span",{className:"pkg-version"},e[1]),t?c.createElement("span",{className:"pkg-installed"},"(",n,")"):null)}class M extends c.Component{constructor(e){super(e);this.selectRef=c.createRef();this._inputChanged=(e,t)=>{if(t.action=="set-value"){this.setState({input:""});return}if(t.action!="input-change"){return}const n=e.split(/ +/);const r=n.map(N).map((e=>({value:j(e),label:D(e),isDisabled:false})));const i=A().intersectionBy(r,this.state.options.filter((e=>!e.isDisabled)),"value");const a=A().differenceBy(i,this.state.selected,"value");if(i.length>0){let t=e;i.forEach((e=>{t=t.replace(e.value,"")}));const n=(this.state.selected||[]).concat(a);this.setState({selected:n,input:t.trim()});if(this.props.onChange){this.props.onChange(n,null)}}else{this.setState({input:e})}};this._selectChanged=(e,t)=>{this.setState({selected:e});if(this.props.onChange){this.props.onChange(e,t)}};this._toggleShowInstalled=()=>{this.setState({showInstalled:!this.state.showInstalled})};this._menuOpened=()=>{this.setState({isMenuOpened:true})};this._menuClosed=()=>{this.setState({isMenuOpened:false})};this._onKeyDown=e=>{if(!this.state.isMenuOpened&&e.keyCode==13){e.preventDefault()}};this.state={isLoading:false,options:[],selected:[],input:"",isMenuOpened:false,showInstalled:true};this._sessionContext=e.sessionContext}componentDidMount(){this._loadPackageList()}_makeOptions(e,t,n){const r=t.map((e=>({value:j(e),label:D(e,true,"bazel"),isDisabled:true})));const i=n.map((e=>({value:j(e),label:D(e,true,"pip"),isDisabled:true})));const a=e.map((e=>({value:j(e),label:D(e),isDisabled:false})));const u=A().differenceBy(a,i,"value");const o=u.concat(r).concat(i);return o.sort(((e,t)=>e.val<t.val?-1:e.val>t.val?1:0))}_loadPackageList(){this.setState({isLoading:true});var e=`from dropbox.ml_platform.jupyterhub.kernels.resources.package_manager import get_package_lists_from_jupyterhub\nget_package_lists_from_jupyterhub()`;u(this._sessionContext.session.kernel,e,(e=>{console.debug(e)}),(()=>{})).then((e=>{this.setState({options:this._makeOptions(e.whitelist,e.bazel,e.pip),isLoading:false})})).catch((e=>{this.setState({isLoading:false});console.error("Failed to get package list");console.debug(e.content)}))}focus(){if(this.selectRef!=null&&this.selectRef.current!=null){this.selectRef.current.focus()}}render(){const{showInstalled:e,options:t,isLoading:n,selected:r,input:i}=this.state;return c.createElement("span",null,c.createElement(v(),{isMulti:true,isLoading:n,options:e?t:t.filter((e=>!e.isDisabled)),placeholder:"Search packages or paste frozen requirements...",className:"pkg-list-select",classNamePrefix:"select",onChange:this._selectChanged,onInputChange:this._inputChanged,onMenuOpen:this._menuOpened,onMenuClose:this._menuClosed,onKeyDown:this._onKeyDown,value:r,inputValue:i,ref:this.selectRef,menuPortalTarget:document.body,menuPosition:"fixed",menuPlacement:"bottom",menuShouldScrollIntoView:false,styles:{menuPortal:e=>({...e,zIndex:99999})}}),c.createElement("span",{className:"pkg-select-checkbox"},c.createElement("label",null,c.createElement(I,{checked:this.state.showInstalled,onChange:this._toggleShowInstalled})," ","Show installed packages")))}}const O="jp-OfflineNotebookToolbarIcon";function R(e,t){const n=/^Collecting (.+)/;const r=/^Installing collected packages: (.+)/;let a;if((a=t.match(n))!=null){i.INotification.update({toastId:e,message:`Collecting ${a[1]}`})}else if((a=t.match(r))!=null){const t=a[1].split(",");i.INotification.update({toastId:e,message:`Installing ${t.length} packages`})}}function P(e){const t=JSON.stringify(e);return`from dropbox.ml_platform.tools.ml_pip.jupyterhub_package_installer import install_packages_from_jupyterhub\ninstall_packages_from_jupyterhub(package_json_args='${t}')`}function z(e,t){console.log(e.getKernelName());console.log(e.getvenvdir());var n=JSON.stringify(false);var r=JSON.stringify(e.getInstalledPackages());var i=JSON.stringify(t?"":e.getvenvdir());return`from dropbox.ml_platform.jupyterhub.kernels.resources.kernel_startup import venv_setup\nvenv_setup(venv_dir_json='${i}', should_upload_package_json='${n}', package_json_args='${r}')`}function L(e,t,n){const r=f().createElement("div",{className:"pkg-list-form"},f().createElement("form",null,f().createElement("p",null,"Each notebook runs in its own isolated environment where you can use"," ",f().createElement("a",{href:"https://sourcegraph.pp.dropbox.com/server/-/blob/dropbox/ml_platform/spark/BUILD.in#L31"},"bazel-built packages")," ","as well as install any ",f().createElement("i",null,"whitelisted")," Python packages of your choice."),f().createElement("p",null,f().createElement("h5",null,"How to whitelist new packages?"),f().createElement("ol",null,f().createElement("li",null,"Find the package name and version at ",f().createElement("a",{href:"https://pypi.org/"},"PYPI")," or have a"," ",f().createElement("code",null,"requirements.txt")," that has a list of packages you wish to install."),f().createElement("li",null,"Run ",f().createElement("code",null,"mbzl tool //dropbox/ml_platform/tools/ml_pip whitelist")," with"," ",f().createElement("code",null,"--package <package-name>==<version>")," or",f().createElement("code",null,"--requirements <requirements.txt>"),". ",f().createElement("br",null),"Note a package needs to be whitelisted separately with"," ",f().createElement("code",null,"--python python3.9"),"."),f().createElement("li",null,"Create a revision with ",f().createElement("code",null,"arc diff"),"."),f().createElement("li",null,"Land the diff with",f().createElement("code",null,"arc land --test-release //dropbox/ml_platform/jupyterhub/kernels/resources:pip-whitelist-txt.sqfs"),". Wait for the diff being landed and pushed, which can take 15~25 minutes."))),f().createElement(M,{onChange:t,ref:e,sessionContext:n})));return r}function T(e){return new Promise(((t,n)=>{let r;const i="btn-confirm-install";const a=e=>{console.debug("selected",e.values);r=(e||[]).map((e=>e.value));const t=document.getElementById(i);if(t!=null){if(r.length==0){t.setAttribute("disabled","true")}else{t.removeAttribute("disabled")}}};const u=f().createRef();var o=new _.Dialog({title:"Install Third-Party Packages",body:_.ReactWidget.create(L(u,a,e)),buttons:[_.Dialog.cancelButton(),_.Dialog.okButton({accept:true,label:"Install"})]});o.launch().then((e=>{console.log(e);if(e.button.label=="Install"&&r!=null&&r.length>0){console.log(r);t(r);return true}else if(e.button.label=="Cancel"){n("dialog dismissed");return false}else{n("no selected packages");return false}}))}))}function $(e,t,n=false){var r=new p(t);i.INotification.inProgress("Creating Virtual Environment").then((t=>{u(e.session.kernel,z(r,n),R.bind(null,t)).then((e=>{r.updatevenvDir(e.venv_dir);i.INotification.update({toastId:t,message:"Virtual Environment Ready!",autoClose:5e3,type:"success"})})).catch((e=>{console.debug(e);s(t,"Virtual Env Creation Failed")}))}))}function W(e,t,n){return new _.ToolbarButton({label:"Recreate Venv",className:n,iconClass:"fas fa-cube "+O,onClick:()=>{$(e,t,true)},tooltip:"Recreates a new venv and reinstalls pip packages"})}function B(e,t,n){return new _.ToolbarButton({className:n,label:"Install Packages",iconClass:"fas fa-cubes "+O,onClick:()=>{T(e).then((n=>{var r=new p(t);const a=JSON.stringify(n);console.debug(`install '${a}'`);i.INotification.inProgress("Installing packages!").then((t=>{u(e.session.kernel,P(n),R.bind(null,t)).then((()=>{r.updateInstalledPackages(n);i.INotification.update({toastId:t,message:`'${n.length}' packages installed`,autoClose:5e3,type:"success"})})).catch((e=>{console.debug(e);s(t,"Package Installation Failed")}))}))}))}})}var q=n(18960);var F=n(3664);var U=n(61238);var H=n(26529);var V=n(9563);const K="jp-OfflineNotebookToolbarIcon";function J(e,t,n){return new _.ToolbarButton({label:"Clone Server Repo",className:t,iconClass:"fab fa-git-alt "+K,onClick:()=>{Z(e.session.kernel,n)},tooltip:"Clones the rserver repo and checks out the notebook directory"})}function Z(e,t){i.INotification.inProgress("Cloning Server Repo").then((n=>{u(e,G()).then((e=>{t.execute("filebrowser:open-path",{path:e.message});i.INotification.update({toastId:n,message:"Server git repository Ready at "+e.message,autoClose:5e3,type:"success"})})).catch((e=>{console.debug(e);s(n,"Git clone Failed")})).finally((()=>{e.shutdown()}))}))}function G(){return`from dropbox.ml_platform.jupyterhub.kernels.resources.git import clone_server\nclone_server()`}const Y=60*1e3;const X=60*Y;const Q=24*X;const ee=()=>(new Date).getTime();const te=e=>{const[t,n]=c.useState(e-ee());const[r,i]=c.useState(t<=0);const a=c.useRef();const u=()=>a.current&&clearInterval(a.current);const o=()=>{a.current=setInterval((()=>n(e-ee())),10*Y);return u};c.useEffect(o,[e]);c.useEffect((()=>i(t<=0)),[t]);c.useEffect((()=>{if(r){console.debug("countdown completed");u()}}),[r]);const l=e=>{const t=Math.floor(e/Q);const n=Math.floor(e%Q/X);return{days:t,hours:n,done:r}};return l(t)};const ne=({expiresAt:e})=>{const{days:t,hours:n,done:r}=te(e);const i=(e,t,n="s")=>`${e} ${t}${e!==1?n:""}`;const a=t+n===0?`in less than an hour`:`in ${i(t,"day")} and ${i(n,"hour")}`;return c.createElement("span",{className:"expiration-notice"},c.createElement("p",null,r?`Your notebook server session has expired. `:`Your notebook server session will expire ${a}. `,`Please save your work, commit any changes in git and push to remote. `),c.createElement("br",null),c.createElement("p",null,`To restart a new server, go to `,c.createElement("a",{href:"/hub/home"},"Control Panel"),`, press 'Stop My Server' and then 'Start My Server'.`))};const re=(e,t)=>{const n=new Date(e).getDay();const r=n===1?3*Q:n===0?2*Q:Q;return t-r};const ie=async()=>{const e=await(new V.KernelManager).startNew({name:"basic_python3"});let t=Infinity;let n=Infinity;try{const r=await u(e,`from dropbox.ml_platform.jupyterhub.kernels.resources.notify_expiration import send_expiration_date; send_expiration_date()`);if(!!r.expires_at){t=parseFloat(r.expires_at);n=t-ee()}}catch(o){console.debug("Failed to fetch expiration date from server, no big deal",o)}finally{e.shutdown()}if(n===Infinity){return}const r=re(t,n);console.debug("Notify expiration in",r,"ms");const a=c.createElement(ne,{expiresAt:t});if(r<=0){i.INotification.warning(a,{autoClose:false})}else{setTimeout((()=>i.INotification.warning(a,{autoClose:false})),r)}};const ae={id:"doc-menu",requires:[q.IMainMenu,F.IStatusBar,U.ILabStatus],autoStart:true,activate:async(e,t,n,r)=>{console.log("JupyterLab menu extension is activated!");ue(e,t);oe(e,t);ie();await le(n)}};function ue(e,t){const{commands:n}=e;let r=new H.Menu({commands:n});r.title.label="Dropbox Help";const i="dbx-doc";se(e,i);r.addItem({command:i});const a="dbx-hive-magic";ce(e,a);r.addItem({command:a});t.addMenu(r,{rank:60})}function oe(e,t){const{commands:n}=e;let r=new H.Menu({commands:n});r.title.label="Dropbox";const i="git:clonerServer";fe(e,i);r.addItem({command:i});t.addMenu(r,{rank:60})}async function le(e){const t=new H.Widget;const n=new V.KernelManager;const r=await n.startNew({name:"basic_python3"});e.registerStatusItem("lab-status",{align:"middle",rank:0,item:t});const i=r.requestExecute({code:`import os;print(os.environ.get("JUPYTER_NB_RESTRICTED_PATH_PREFIX", ""))`});i.onIOPub=e=>{if(e.header.msg_type!="status"){t.node.textContent=e.content.text}};await i.done;r.shutdown()}function se(e,t){e.commands.addCommand(t,{label:"Dbx Documentation",isEnabled:()=>true,isVisible:()=>true,execute:()=>{window.open("https://www.dropbox.com/scl/fi/pm82gzzrqopbnf213lfqu/JupyterHub-environment.paper?dl=0&rlkey=hzrg0rb0yf93hlbewjwv8by7c","_blank","noreferrer=yes")}})}function ce(e,t){e.commands.addCommand(t,{label:"Hive Magic Documentation",isEnabled:()=>true,isVisible:()=>true,execute:()=>{window.open("https://www.dropbox.com/scl/fi/3ij3826nzolm32h0d9k7p/Hive-and-Presto-Magic-in-Jupyter-Notebooks.paper?dl=0&rlkey=e49i67li960hns4zwgh9ma9eg","_blank","noreferrer=yes")}})}function fe(e,t){e.commands.addCommand(t,{label:"Clone rServer Repo",execute:async()=>{const t=new V.KernelManager;const n=await t.startNew({name:"basic_python3"});Z(n,e.commands)}})}var he=n(98138);var ve=n(87730);const pe="jp-Notebook-toolbarCellType";const de="jp-Notebook-toolbarCellTypeDropdown";const _e=/^%{1,2}(presto|hive)(\s+.*)*$/m;function ge(e){return new me(e.content)}class me extends _.ReactWidget{constructor(e){super();this.handleChange=e=>{if(e.target.value!=="Select Magic"){switch(e.target.value){case"presto":case"hive":var t=e.target.value;var n=_e.exec(this._notebook.activeCell.model.value.text);if(n){this._notebook.activeCell.model.value.text=this._notebook.activeCell.model.value.text.replace(n[1],t)}else{this._notebook.activeCell.model.value.text="%%"+t+"\n"+this._notebook.activeCell.model.value.text}this.update();this._notebook.activate();break;default:break}}};this.handleKeyDown=e=>{if(e.keyCode===13){this._notebook.activate()}};this._notebook=null;this.addClass(pe);this._notebook=e;if(e.model){this.update()}e.activeCellChanged.connect(this.update,this);e.selectionChanged.connect(this.update,this)}render(){let e="Select Magic";if(this._notebook.activeCell){if(this._notebook.activeCell.model.type=="code"){var t=_e.exec(this._notebook.activeCell.model.value.text);if(t){e=t[1]}}}for(let n of this._notebook.widgets){if(this._notebook.isSelectedOrActive(n)){if(n.model.type!=="code"){e="Select Magic";break}var t=_e.exec(n.model.value.text);if(!t){e="Select Magic";break}if(t[1]!==e){e="Select Magic";break}}}return c.createElement(ve.HTMLSelect,{className:de,onChange:this.handleChange,onKeyDown:this.handleKeyDown,value:e},c.createElement("option",{value:"Select Magic"},"Select Magic"),c.createElement("option",{value:"hive"},"Hive"),c.createElement("option",{value:"presto"},"Presto"))}}const ye={activate:we,id:"my-extension-name:buttonPlugin",autoStart:true};class be{constructor(e){this._commands=e}createNew(e,t){let n="recreate_venv";let a="install_packages";let u="connect_to_spark";let o="git_clone";var l=[];t.ready.then((()=>{if(t.contentsModel.writable){l=[{className:n,button:W(e.sessionContext,t,n)},{className:a,button:B(e.sessionContext,t,a)},{className:u,button:m(e,t,u)},{className:o,button:J(e.sessionContext,o,this._commands)}];l.reverse();l.forEach((t=>e.toolbar.insertItem(10,t.className,t.button)));e.toolbar.insertAfter(o,"magic_switcher",ge(e));e.sessionContext.ready.then((()=>{e.sessionContext.session.kernel.registerCommTarget("kernel_notification_comm",(e=>{e.onMsg=e=>console.log(e.content.data)}));if(e.isVisible){$(e.sessionContext,t)}e.sessionContext.kernelChanged.connect(((e,n)=>e.isReady&&!e.isDisposed&&n.newValue&&$(e,t)))}))}else{e.toolbar.hide();e.context.model.readOnly=true;var r=he.O7.execute;he.O7.execute=async(e,t,n)=>{if(e.readOnly){i.INotification.error("Read-only notebook. Cannot execute or save notebook",{autoClose:3e3})}else{r(e,t,n)}};e.content.widgets.forEach((e=>e.readOnly=true));t.model.cells.changed.connect(((t,n)=>{var r=false;for(var i=0;i<t.length;i++){if(e.content.widgets[i].readOnly){r=true;break}}if(r){if(n.type=="add"){n.newValues.forEach((()=>{e.content.widgets[n.newIndex].readOnly=true}))}}}))}}));return new r.DisposableDelegate((()=>{l.forEach((e=>e.button.dispose()))}))}}function we(e){const{commands:t}=e;e.docRegistry.addWidgetExtension("Notebook",new be(t))}const xe=[ye,ae]}}]);
//# sourceMappingURL=2963.17694637c6d9b5f5891e.js.map?v=17694637c6d9b5f5891e